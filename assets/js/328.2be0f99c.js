(window.webpackJsonp=window.webpackJsonp||[]).push([[328],{722:function(e,t,r){"use strict";r.r(t);var i=r(46),o=Object(i.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"vue"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue"}},[e._v("#")]),e._v(" vue")]),e._v(" "),r("h2",{attrs:{id:"which-dist-file-to-use"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#which-dist-file-to-use"}},[e._v("#")]),e._v(" Which dist file to use?")]),e._v(" "),r("h3",{attrs:{id:"from-cdn-or-without-a-bundler"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#from-cdn-or-without-a-bundler"}},[e._v("#")]),e._v(" From CDN or without a Bundler")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[r("code",[e._v("vue(.runtime).global(.prod).js")])]),e._v(":")]),e._v(" "),r("ul",[r("li",[e._v("For direct use via "),r("code",[e._v('<script src="...">')]),e._v(" in the browser. Exposes the "),r("code",[e._v("Vue")]),e._v(" global.")]),e._v(" "),r("li",[e._v("Note that global builds are not "),r("a",{attrs:{href:"https://github.com/umdjs/umd",target:"_blank",rel:"noopener noreferrer"}},[e._v("UMD"),r("OutboundLink")],1),e._v(" builds.  They are built as "),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/IIFE",target:"_blank",rel:"noopener noreferrer"}},[e._v("IIFEs"),r("OutboundLink")],1),e._v(" and is only meant for direct use via "),r("code",[e._v('<script src="...">')]),e._v(".")]),e._v(" "),r("li",[e._v("In-browser template compilation:\n"),r("ul",[r("li",[r("strong",[r("code",[e._v("vue.global.js")])]),e._v(' is the "full" build that includes both the compiler and the runtime so it supports compiling templates on the fly.')]),e._v(" "),r("li",[r("strong",[r("code",[e._v("vue.runtime.global.js")])]),e._v(" contains only the runtime and requires templates to be pre-compiled during a build step.")])])]),e._v(" "),r("li",[e._v("Inlines all Vue core internal packages - i.e. it's a single file with no dependencies on other files. This means you "),r("strong",[e._v("must")]),e._v(" import everything from this file and this file only to ensure you are getting the same instance of code.")]),e._v(" "),r("li",[e._v("Contains hard-coded prod/dev branches, and the prod build is pre-minified. Use the "),r("code",[e._v("*.prod.js")]),e._v(" files for production.")])])]),e._v(" "),r("li",[r("p",[r("strong",[r("code",[e._v("vue(.runtime).esm-browser(.prod).js")])]),e._v(":")]),e._v(" "),r("ul",[r("li",[e._v("For usage via native ES modules imports (in browser via "),r("code",[e._v('<script type="module">')]),e._v(".")]),e._v(" "),r("li",[e._v("Shares the same runtime compilation, dependency inlining and hard-coded prod/dev behavior with the global build.")])])])]),e._v(" "),r("h3",{attrs:{id:"with-a-bundler"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#with-a-bundler"}},[e._v("#")]),e._v(" With a Bundler")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[r("code",[e._v("vue(.runtime).esm-bundler.js")])]),e._v(":")]),e._v(" "),r("ul",[r("li",[e._v("For use with bundlers like "),r("code",[e._v("webpack")]),e._v(", "),r("code",[e._v("rollup")]),e._v(" and "),r("code",[e._v("parcel")]),e._v(".")]),e._v(" "),r("li",[e._v("Leaves prod/dev branches with "),r("code",[e._v("process.env.NODE_ENV")]),e._v(" guards (must be replaced by bundler)")]),e._v(" "),r("li",[e._v("Does not ship minified builds (to be done together with the rest of the code after bundling)")]),e._v(" "),r("li",[e._v("Imports dependencies (e.g. "),r("code",[e._v("@vue/runtime-core")]),e._v(", "),r("code",[e._v("@vue/runtime-compiler")]),e._v(")\n"),r("ul",[r("li",[e._v("Imported dependencies are also "),r("code",[e._v("esm-bundler")]),e._v(" builds and will in turn import their dependencies (e.g. "),r("code",[e._v("@vue/runtime-core")]),e._v(" imports "),r("code",[e._v("@vue/reactivity")]),e._v(")")]),e._v(" "),r("li",[e._v("This means you "),r("strong",[e._v("can")]),e._v(" install/import these deps individually without ending up with different instances of these dependencies, but you must make sure they all resolve to the same version.")])])]),e._v(" "),r("li",[e._v("In-browser template compilation:\n"),r("ul",[r("li",[r("strong",[r("code",[e._v("vue.runtime.esm-bundler.js")]),e._v(" (default)")]),e._v(" is runtime only, and requires all templates to be pre-compiled. This is the default entry for bundlers (via "),r("code",[e._v("module")]),e._v(" field in "),r("code",[e._v("package.json")]),e._v(") because when using a bundler templates are typically pre-compiled (e.g. in "),r("code",[e._v("*.vue")]),e._v(" files).")]),e._v(" "),r("li",[r("strong",[r("code",[e._v("vue.esm-bundler.js")])]),e._v(": includes the runtime compiler. Use this if you are using a bundler but still want runtime template compilation (e.g. in-DOM templates or templates via inline JavaScript strings). You will need to configure your bundler to alias "),r("code",[e._v("vue")]),e._v(" to this file.")])])])])])]),e._v(" "),r("h4",{attrs:{id:"bundler-build-feature-flags"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bundler-build-feature-flags"}},[e._v("#")]),e._v(" Bundler Build Feature Flags")]),e._v(" "),r("p",[e._v("Starting with 3.0.0-rc.3, "),r("code",[e._v("esm-bundler")]),e._v(" builds now exposes global feature flags that can be overwritten at compile time:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("__VUE_OPTIONS_API__")]),e._v(" (enable/disable Options API support, default: "),r("code",[e._v("true")]),e._v(")")]),e._v(" "),r("li",[r("code",[e._v("__VUE_PROD_DEVTOOLS__")]),e._v(" (enable/disable devtools support in production, default: "),r("code",[e._v("false")]),e._v(")")])]),e._v(" "),r("p",[e._v("The build will work without configuring these flags, however it is "),r("strong",[e._v("strongly recommended")]),e._v(" to properly configure them in order to get proper tree-shaking in the final bundle. To configure these flags:")]),e._v(" "),r("ul",[r("li",[e._v("webpack: use "),r("a",{attrs:{href:"https://webpack.js.org/plugins/define-plugin/",target:"_blank",rel:"noopener noreferrer"}},[e._v("DefinePlugin"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Rollup: use "),r("a",{attrs:{href:"https://github.com/rollup/plugins/tree/master/packages/replace",target:"_blank",rel:"noopener noreferrer"}},[e._v("@rollup/plugin-replace"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Vite: configured by default, but can be overwritten using the "),r("a",{attrs:{href:"https://github.com/vitejs/vite/blob/a4133c073e640b17276b2de6e91a6857bdf382e1/src/node/config.ts#L72-L76",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("define")]),e._v(" option"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("Note: the replacement value "),r("strong",[e._v("must be boolean literals")]),e._v(" and cannot be strings, otherwise the bundler/minifier will not be able to properly evaluate the conditions.")]),e._v(" "),r("h3",{attrs:{id:"for-server-side-rendering"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#for-server-side-rendering"}},[e._v("#")]),e._v(" For Server-Side Rendering")]),e._v(" "),r("ul",[r("li",[r("strong",[r("code",[e._v("vue.cjs(.prod).js")])]),e._v(":\n"),r("ul",[r("li",[e._v("For use in Node.js server-side rendering via "),r("code",[e._v("require()")]),e._v(".")]),e._v(" "),r("li",[e._v("If you bundle your app with webpack with "),r("code",[e._v("target: 'node'")]),e._v(" and properly externalize "),r("code",[e._v("vue")]),e._v(", this is the build that will be loaded.")]),e._v(" "),r("li",[e._v("The dev/prod files are pre-built, but the appropriate file is automatically required based on "),r("code",[e._v("process.env.NODE_ENV")]),e._v(".")])])])])])}),[],!1,null,null,null);t.default=o.exports}}]);