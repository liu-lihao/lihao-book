<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>let 和 const 命令 | 笔记</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/lihao-book/images/favicon.ico">
    <script src="/lihao-book/js/theme.js"></script>
    <link rel="manifest" href="/lihao-book/manifest.json">
    <link rel="apple-touch-icon" href="/lihao-book/images/logo.png">
    <link rel="mask-icon" href="/lihao-book/images/egg.svg" color="#d49400">
    <meta name="description" content="在这里记下我的所有笔记，方便查阅">
    <meta name="theme-color" content="#d49400">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-TileImage" content="/lihao-book/images/logo.png">
    
    <link rel="preload" href="/lihao-book/assets/css/0.styles.aa12d998.css" as="style"><link rel="preload" href="/lihao-book/assets/js/app.658e288a.js" as="script"><link rel="preload" href="/lihao-book/assets/js/2.fa8e0bba.js" as="script"><link rel="preload" href="/lihao-book/assets/js/498.b2aacf71.js" as="script"><link rel="preload" href="/lihao-book/assets/js/12.3e28fdbb.js" as="script"><link rel="prefetch" href="/lihao-book/assets/js/10.20067bed.js"><link rel="prefetch" href="/lihao-book/assets/js/100.692cd9a9.js"><link rel="prefetch" href="/lihao-book/assets/js/101.aa8fddb8.js"><link rel="prefetch" href="/lihao-book/assets/js/102.b8a3d03d.js"><link rel="prefetch" href="/lihao-book/assets/js/103.02c54ae8.js"><link rel="prefetch" href="/lihao-book/assets/js/104.f242481d.js"><link rel="prefetch" href="/lihao-book/assets/js/105.e5b71631.js"><link rel="prefetch" href="/lihao-book/assets/js/106.d83c8450.js"><link rel="prefetch" href="/lihao-book/assets/js/107.03a38e8f.js"><link rel="prefetch" href="/lihao-book/assets/js/108.6b4154b6.js"><link rel="prefetch" href="/lihao-book/assets/js/109.9fb6f130.js"><link rel="prefetch" href="/lihao-book/assets/js/11.7ff34abd.js"><link rel="prefetch" href="/lihao-book/assets/js/110.0f743817.js"><link rel="prefetch" href="/lihao-book/assets/js/111.d1a77898.js"><link rel="prefetch" href="/lihao-book/assets/js/112.1db7145e.js"><link rel="prefetch" href="/lihao-book/assets/js/113.be1613bb.js"><link rel="prefetch" href="/lihao-book/assets/js/114.0ada02dc.js"><link rel="prefetch" href="/lihao-book/assets/js/115.c25ee994.js"><link rel="prefetch" href="/lihao-book/assets/js/116.1903c9bf.js"><link rel="prefetch" href="/lihao-book/assets/js/117.fa2eebf3.js"><link rel="prefetch" href="/lihao-book/assets/js/118.0bce49b2.js"><link rel="prefetch" href="/lihao-book/assets/js/119.b147c799.js"><link rel="prefetch" href="/lihao-book/assets/js/120.2969ad22.js"><link rel="prefetch" href="/lihao-book/assets/js/121.962b6c4f.js"><link rel="prefetch" href="/lihao-book/assets/js/122.a678dfd1.js"><link rel="prefetch" href="/lihao-book/assets/js/123.b9758e90.js"><link rel="prefetch" href="/lihao-book/assets/js/124.d09e44b5.js"><link rel="prefetch" href="/lihao-book/assets/js/125.ad202624.js"><link rel="prefetch" href="/lihao-book/assets/js/126.b0e560be.js"><link rel="prefetch" href="/lihao-book/assets/js/127.ba61a8ef.js"><link rel="prefetch" href="/lihao-book/assets/js/128.0788b3cc.js"><link rel="prefetch" href="/lihao-book/assets/js/129.acc12c61.js"><link rel="prefetch" href="/lihao-book/assets/js/13.8682522e.js"><link rel="prefetch" href="/lihao-book/assets/js/130.58edf648.js"><link rel="prefetch" href="/lihao-book/assets/js/131.5f16cb45.js"><link rel="prefetch" href="/lihao-book/assets/js/132.8c12e30d.js"><link rel="prefetch" href="/lihao-book/assets/js/133.41039e32.js"><link rel="prefetch" href="/lihao-book/assets/js/134.77455b6f.js"><link rel="prefetch" href="/lihao-book/assets/js/135.300e66d2.js"><link rel="prefetch" href="/lihao-book/assets/js/136.bd2f99b1.js"><link rel="prefetch" href="/lihao-book/assets/js/137.51b30b37.js"><link rel="prefetch" href="/lihao-book/assets/js/138.c84149d7.js"><link rel="prefetch" href="/lihao-book/assets/js/139.d0c56c15.js"><link rel="prefetch" href="/lihao-book/assets/js/14.af6c03c7.js"><link rel="prefetch" href="/lihao-book/assets/js/140.6efbe556.js"><link rel="prefetch" href="/lihao-book/assets/js/141.8b942baf.js"><link rel="prefetch" href="/lihao-book/assets/js/142.f9aee3ef.js"><link rel="prefetch" href="/lihao-book/assets/js/143.39fb46cf.js"><link rel="prefetch" href="/lihao-book/assets/js/144.60112f72.js"><link rel="prefetch" href="/lihao-book/assets/js/145.cb4d2903.js"><link rel="prefetch" href="/lihao-book/assets/js/146.33175754.js"><link rel="prefetch" href="/lihao-book/assets/js/147.f5d17e59.js"><link rel="prefetch" href="/lihao-book/assets/js/148.47634ba1.js"><link rel="prefetch" href="/lihao-book/assets/js/149.48af4a56.js"><link rel="prefetch" href="/lihao-book/assets/js/15.ec644661.js"><link rel="prefetch" href="/lihao-book/assets/js/150.125a2bf5.js"><link rel="prefetch" href="/lihao-book/assets/js/151.aa63e884.js"><link rel="prefetch" href="/lihao-book/assets/js/152.8f831b5c.js"><link rel="prefetch" href="/lihao-book/assets/js/153.74f99e37.js"><link rel="prefetch" href="/lihao-book/assets/js/154.a4e08fa4.js"><link rel="prefetch" href="/lihao-book/assets/js/155.6e7f1bdb.js"><link rel="prefetch" href="/lihao-book/assets/js/156.2d70e74d.js"><link rel="prefetch" href="/lihao-book/assets/js/157.2ff78eeb.js"><link rel="prefetch" href="/lihao-book/assets/js/158.e7d75090.js"><link rel="prefetch" href="/lihao-book/assets/js/159.669195f4.js"><link rel="prefetch" href="/lihao-book/assets/js/16.2e5fdd25.js"><link rel="prefetch" href="/lihao-book/assets/js/160.11933400.js"><link rel="prefetch" href="/lihao-book/assets/js/161.35e327cb.js"><link rel="prefetch" href="/lihao-book/assets/js/162.45711468.js"><link rel="prefetch" href="/lihao-book/assets/js/163.3afb9fe0.js"><link rel="prefetch" href="/lihao-book/assets/js/164.2077fc75.js"><link rel="prefetch" href="/lihao-book/assets/js/165.08620649.js"><link rel="prefetch" href="/lihao-book/assets/js/166.9c33b37b.js"><link rel="prefetch" href="/lihao-book/assets/js/167.d618fed7.js"><link rel="prefetch" href="/lihao-book/assets/js/168.32302ede.js"><link rel="prefetch" href="/lihao-book/assets/js/169.15da1f82.js"><link rel="prefetch" href="/lihao-book/assets/js/17.c3ff0120.js"><link rel="prefetch" href="/lihao-book/assets/js/170.81dfde6f.js"><link rel="prefetch" href="/lihao-book/assets/js/171.33fcbaa3.js"><link rel="prefetch" href="/lihao-book/assets/js/172.6fd4ce99.js"><link rel="prefetch" href="/lihao-book/assets/js/173.dbd4a94f.js"><link rel="prefetch" href="/lihao-book/assets/js/174.32a96fe4.js"><link rel="prefetch" href="/lihao-book/assets/js/175.c12a8253.js"><link rel="prefetch" href="/lihao-book/assets/js/176.76ec6c9c.js"><link rel="prefetch" href="/lihao-book/assets/js/177.0ab80356.js"><link rel="prefetch" href="/lihao-book/assets/js/178.b7dbd79c.js"><link rel="prefetch" href="/lihao-book/assets/js/179.4e638d9d.js"><link rel="prefetch" href="/lihao-book/assets/js/18.c6381d89.js"><link rel="prefetch" href="/lihao-book/assets/js/180.c9e68619.js"><link rel="prefetch" href="/lihao-book/assets/js/181.cc94c0d4.js"><link rel="prefetch" href="/lihao-book/assets/js/182.a2209377.js"><link rel="prefetch" href="/lihao-book/assets/js/183.c8969d37.js"><link rel="prefetch" href="/lihao-book/assets/js/184.21ff4776.js"><link rel="prefetch" href="/lihao-book/assets/js/185.3ba44131.js"><link rel="prefetch" href="/lihao-book/assets/js/186.2b167c1f.js"><link rel="prefetch" href="/lihao-book/assets/js/187.265e0ff9.js"><link rel="prefetch" href="/lihao-book/assets/js/188.885868ae.js"><link rel="prefetch" href="/lihao-book/assets/js/189.4ceb68d3.js"><link rel="prefetch" href="/lihao-book/assets/js/19.73c58947.js"><link rel="prefetch" href="/lihao-book/assets/js/190.28b05b38.js"><link rel="prefetch" href="/lihao-book/assets/js/191.b4c789c8.js"><link rel="prefetch" href="/lihao-book/assets/js/192.21cca6fa.js"><link rel="prefetch" href="/lihao-book/assets/js/193.4bd45465.js"><link rel="prefetch" href="/lihao-book/assets/js/194.3c443e67.js"><link rel="prefetch" href="/lihao-book/assets/js/195.fb702f56.js"><link rel="prefetch" href="/lihao-book/assets/js/196.0c4a046f.js"><link rel="prefetch" href="/lihao-book/assets/js/197.4d7e30f9.js"><link rel="prefetch" href="/lihao-book/assets/js/198.3eedeb3f.js"><link rel="prefetch" href="/lihao-book/assets/js/199.458e1a35.js"><link rel="prefetch" href="/lihao-book/assets/js/20.6de252e0.js"><link rel="prefetch" href="/lihao-book/assets/js/200.805499fa.js"><link rel="prefetch" href="/lihao-book/assets/js/201.bff8da06.js"><link rel="prefetch" href="/lihao-book/assets/js/202.6a9b41bc.js"><link rel="prefetch" href="/lihao-book/assets/js/203.e3fa0bca.js"><link rel="prefetch" href="/lihao-book/assets/js/204.f3ae911f.js"><link rel="prefetch" href="/lihao-book/assets/js/205.c31d13a2.js"><link rel="prefetch" href="/lihao-book/assets/js/206.368d7531.js"><link rel="prefetch" href="/lihao-book/assets/js/207.d0eb1483.js"><link rel="prefetch" href="/lihao-book/assets/js/208.717a0710.js"><link rel="prefetch" href="/lihao-book/assets/js/209.4c3c20ec.js"><link rel="prefetch" href="/lihao-book/assets/js/21.8dec3f5a.js"><link rel="prefetch" href="/lihao-book/assets/js/210.b39b7c5d.js"><link rel="prefetch" href="/lihao-book/assets/js/211.eb2d38a3.js"><link rel="prefetch" href="/lihao-book/assets/js/212.661bfb6b.js"><link rel="prefetch" href="/lihao-book/assets/js/213.ecf64dc0.js"><link rel="prefetch" href="/lihao-book/assets/js/214.bea1c3b9.js"><link rel="prefetch" href="/lihao-book/assets/js/215.af334181.js"><link rel="prefetch" href="/lihao-book/assets/js/216.b72ac356.js"><link rel="prefetch" href="/lihao-book/assets/js/217.b519bc3f.js"><link rel="prefetch" href="/lihao-book/assets/js/218.6f2abd43.js"><link rel="prefetch" href="/lihao-book/assets/js/219.6085bd7b.js"><link rel="prefetch" href="/lihao-book/assets/js/22.9d9b291d.js"><link rel="prefetch" href="/lihao-book/assets/js/220.24d4125b.js"><link rel="prefetch" href="/lihao-book/assets/js/221.15e5f311.js"><link rel="prefetch" href="/lihao-book/assets/js/222.0d4539af.js"><link rel="prefetch" href="/lihao-book/assets/js/223.efdd5775.js"><link rel="prefetch" href="/lihao-book/assets/js/224.aa502141.js"><link rel="prefetch" href="/lihao-book/assets/js/225.8cb34620.js"><link rel="prefetch" href="/lihao-book/assets/js/226.bca8c0c9.js"><link rel="prefetch" href="/lihao-book/assets/js/227.089d1ac7.js"><link rel="prefetch" href="/lihao-book/assets/js/228.e8e0ae80.js"><link rel="prefetch" href="/lihao-book/assets/js/229.d2cf84fd.js"><link rel="prefetch" href="/lihao-book/assets/js/23.b32c28d9.js"><link rel="prefetch" href="/lihao-book/assets/js/230.1bd7a764.js"><link rel="prefetch" href="/lihao-book/assets/js/231.3c861e90.js"><link rel="prefetch" href="/lihao-book/assets/js/232.7ecc3cb4.js"><link rel="prefetch" href="/lihao-book/assets/js/233.72c22065.js"><link rel="prefetch" href="/lihao-book/assets/js/234.becbfe77.js"><link rel="prefetch" href="/lihao-book/assets/js/235.cccf0010.js"><link rel="prefetch" href="/lihao-book/assets/js/236.d0ab1e77.js"><link rel="prefetch" href="/lihao-book/assets/js/237.7ebe46f3.js"><link rel="prefetch" href="/lihao-book/assets/js/238.6e4b247f.js"><link rel="prefetch" href="/lihao-book/assets/js/239.26074097.js"><link rel="prefetch" href="/lihao-book/assets/js/24.95650d2f.js"><link rel="prefetch" href="/lihao-book/assets/js/240.1fff576e.js"><link rel="prefetch" href="/lihao-book/assets/js/241.90a977ed.js"><link rel="prefetch" href="/lihao-book/assets/js/242.f2c9b462.js"><link rel="prefetch" href="/lihao-book/assets/js/243.12708cc3.js"><link rel="prefetch" href="/lihao-book/assets/js/244.51a216f2.js"><link rel="prefetch" href="/lihao-book/assets/js/245.4180c07d.js"><link rel="prefetch" href="/lihao-book/assets/js/246.5af61391.js"><link rel="prefetch" href="/lihao-book/assets/js/247.e919c878.js"><link rel="prefetch" href="/lihao-book/assets/js/248.ded30562.js"><link rel="prefetch" href="/lihao-book/assets/js/249.83579208.js"><link rel="prefetch" href="/lihao-book/assets/js/25.278606a1.js"><link rel="prefetch" href="/lihao-book/assets/js/250.62522ef5.js"><link rel="prefetch" href="/lihao-book/assets/js/251.15131d64.js"><link rel="prefetch" href="/lihao-book/assets/js/252.3841e858.js"><link rel="prefetch" href="/lihao-book/assets/js/253.76ba40c8.js"><link rel="prefetch" href="/lihao-book/assets/js/254.02c0fbdf.js"><link rel="prefetch" href="/lihao-book/assets/js/255.c605bb37.js"><link rel="prefetch" href="/lihao-book/assets/js/256.27a077c6.js"><link rel="prefetch" href="/lihao-book/assets/js/257.e96c46f2.js"><link rel="prefetch" href="/lihao-book/assets/js/258.a6e10fbd.js"><link rel="prefetch" href="/lihao-book/assets/js/259.fa3863ee.js"><link rel="prefetch" href="/lihao-book/assets/js/26.da9d8ec9.js"><link rel="prefetch" href="/lihao-book/assets/js/260.449ccc2a.js"><link rel="prefetch" href="/lihao-book/assets/js/261.bfdfca53.js"><link rel="prefetch" href="/lihao-book/assets/js/262.b82290c7.js"><link rel="prefetch" href="/lihao-book/assets/js/263.a4c677db.js"><link rel="prefetch" href="/lihao-book/assets/js/264.0976c61a.js"><link rel="prefetch" href="/lihao-book/assets/js/265.cd926b8c.js"><link rel="prefetch" href="/lihao-book/assets/js/266.446e175c.js"><link rel="prefetch" href="/lihao-book/assets/js/267.d718b28b.js"><link rel="prefetch" href="/lihao-book/assets/js/268.1d513745.js"><link rel="prefetch" href="/lihao-book/assets/js/269.a40eb4db.js"><link rel="prefetch" href="/lihao-book/assets/js/27.13fcf3c2.js"><link rel="prefetch" href="/lihao-book/assets/js/270.a8bc1d7a.js"><link rel="prefetch" href="/lihao-book/assets/js/271.fe9afd07.js"><link rel="prefetch" href="/lihao-book/assets/js/272.13c64fce.js"><link rel="prefetch" href="/lihao-book/assets/js/273.a127655c.js"><link rel="prefetch" href="/lihao-book/assets/js/274.f04c495c.js"><link rel="prefetch" href="/lihao-book/assets/js/275.b091c9aa.js"><link rel="prefetch" href="/lihao-book/assets/js/276.0930643c.js"><link rel="prefetch" href="/lihao-book/assets/js/277.41b2624c.js"><link rel="prefetch" href="/lihao-book/assets/js/278.93e1d442.js"><link rel="prefetch" href="/lihao-book/assets/js/279.11a03305.js"><link rel="prefetch" href="/lihao-book/assets/js/28.3d912df3.js"><link rel="prefetch" href="/lihao-book/assets/js/280.e832046e.js"><link rel="prefetch" href="/lihao-book/assets/js/281.49082b65.js"><link rel="prefetch" href="/lihao-book/assets/js/282.67cae9bf.js"><link rel="prefetch" href="/lihao-book/assets/js/283.1d2d8d38.js"><link rel="prefetch" href="/lihao-book/assets/js/284.629c809c.js"><link rel="prefetch" href="/lihao-book/assets/js/285.fe350420.js"><link rel="prefetch" href="/lihao-book/assets/js/286.80f10971.js"><link rel="prefetch" href="/lihao-book/assets/js/287.4fa7a03b.js"><link rel="prefetch" href="/lihao-book/assets/js/288.5afbfb73.js"><link rel="prefetch" href="/lihao-book/assets/js/289.67204bfd.js"><link rel="prefetch" href="/lihao-book/assets/js/29.4a44de65.js"><link rel="prefetch" href="/lihao-book/assets/js/290.937982d9.js"><link rel="prefetch" href="/lihao-book/assets/js/291.f54c5637.js"><link rel="prefetch" href="/lihao-book/assets/js/292.86010e44.js"><link rel="prefetch" href="/lihao-book/assets/js/293.cbc61e5e.js"><link rel="prefetch" href="/lihao-book/assets/js/294.ac8717da.js"><link rel="prefetch" href="/lihao-book/assets/js/295.718a7238.js"><link rel="prefetch" href="/lihao-book/assets/js/296.45bccec6.js"><link rel="prefetch" href="/lihao-book/assets/js/297.809c181f.js"><link rel="prefetch" href="/lihao-book/assets/js/298.83cd5e3a.js"><link rel="prefetch" href="/lihao-book/assets/js/299.3244ba3e.js"><link rel="prefetch" href="/lihao-book/assets/js/3.e145bed1.js"><link rel="prefetch" href="/lihao-book/assets/js/30.c79f4170.js"><link rel="prefetch" href="/lihao-book/assets/js/300.44454a07.js"><link rel="prefetch" href="/lihao-book/assets/js/301.d4f2f8d5.js"><link rel="prefetch" href="/lihao-book/assets/js/302.88e9dd8a.js"><link rel="prefetch" href="/lihao-book/assets/js/303.d297ed15.js"><link rel="prefetch" href="/lihao-book/assets/js/304.8b2eeb28.js"><link rel="prefetch" href="/lihao-book/assets/js/305.458b1b57.js"><link rel="prefetch" href="/lihao-book/assets/js/306.b8f12433.js"><link rel="prefetch" href="/lihao-book/assets/js/307.82896331.js"><link rel="prefetch" href="/lihao-book/assets/js/308.0efa972c.js"><link rel="prefetch" href="/lihao-book/assets/js/309.3624df87.js"><link rel="prefetch" href="/lihao-book/assets/js/31.2632844e.js"><link rel="prefetch" href="/lihao-book/assets/js/310.567f7a76.js"><link rel="prefetch" href="/lihao-book/assets/js/311.05dd70a0.js"><link rel="prefetch" href="/lihao-book/assets/js/312.eed7857e.js"><link rel="prefetch" href="/lihao-book/assets/js/313.4ba9a572.js"><link rel="prefetch" href="/lihao-book/assets/js/314.2d475b2d.js"><link rel="prefetch" href="/lihao-book/assets/js/315.42030199.js"><link rel="prefetch" href="/lihao-book/assets/js/316.57b4a48d.js"><link rel="prefetch" href="/lihao-book/assets/js/317.1140b2fc.js"><link rel="prefetch" href="/lihao-book/assets/js/318.7283e43a.js"><link rel="prefetch" href="/lihao-book/assets/js/319.b3b51522.js"><link rel="prefetch" href="/lihao-book/assets/js/32.064a9d66.js"><link rel="prefetch" href="/lihao-book/assets/js/320.aae6b20f.js"><link rel="prefetch" href="/lihao-book/assets/js/321.096deb7b.js"><link rel="prefetch" href="/lihao-book/assets/js/322.54a5f63e.js"><link rel="prefetch" href="/lihao-book/assets/js/323.4f492cd7.js"><link rel="prefetch" href="/lihao-book/assets/js/324.1db64c77.js"><link rel="prefetch" href="/lihao-book/assets/js/325.48868225.js"><link rel="prefetch" href="/lihao-book/assets/js/326.41515f1e.js"><link rel="prefetch" href="/lihao-book/assets/js/327.cad54153.js"><link rel="prefetch" href="/lihao-book/assets/js/328.2be0f99c.js"><link rel="prefetch" href="/lihao-book/assets/js/329.fac856e1.js"><link rel="prefetch" href="/lihao-book/assets/js/33.eafc7d87.js"><link rel="prefetch" href="/lihao-book/assets/js/330.94f5feca.js"><link rel="prefetch" href="/lihao-book/assets/js/331.4783e659.js"><link rel="prefetch" href="/lihao-book/assets/js/332.3e6e77fe.js"><link rel="prefetch" href="/lihao-book/assets/js/333.34329e3e.js"><link rel="prefetch" href="/lihao-book/assets/js/334.fe628103.js"><link rel="prefetch" href="/lihao-book/assets/js/335.bad15e19.js"><link rel="prefetch" href="/lihao-book/assets/js/336.8be601e6.js"><link rel="prefetch" href="/lihao-book/assets/js/337.57b9d8a2.js"><link rel="prefetch" href="/lihao-book/assets/js/338.f09f95be.js"><link rel="prefetch" href="/lihao-book/assets/js/339.ae31598f.js"><link rel="prefetch" href="/lihao-book/assets/js/34.e735c081.js"><link rel="prefetch" href="/lihao-book/assets/js/340.1b6fa83f.js"><link rel="prefetch" href="/lihao-book/assets/js/341.5e7e374d.js"><link rel="prefetch" href="/lihao-book/assets/js/342.cd864a24.js"><link rel="prefetch" href="/lihao-book/assets/js/343.280176f0.js"><link rel="prefetch" href="/lihao-book/assets/js/344.0f7380d8.js"><link rel="prefetch" href="/lihao-book/assets/js/345.c50394ab.js"><link rel="prefetch" href="/lihao-book/assets/js/346.58950dcf.js"><link rel="prefetch" href="/lihao-book/assets/js/347.386cc3e2.js"><link rel="prefetch" href="/lihao-book/assets/js/348.3242d79f.js"><link rel="prefetch" href="/lihao-book/assets/js/349.75b34d54.js"><link rel="prefetch" href="/lihao-book/assets/js/35.1dd0db30.js"><link rel="prefetch" href="/lihao-book/assets/js/350.39ede7c6.js"><link rel="prefetch" href="/lihao-book/assets/js/351.4692408b.js"><link rel="prefetch" href="/lihao-book/assets/js/352.107f68ea.js"><link rel="prefetch" href="/lihao-book/assets/js/353.0e20d937.js"><link rel="prefetch" href="/lihao-book/assets/js/354.9bc10cd9.js"><link rel="prefetch" href="/lihao-book/assets/js/355.fd155cd8.js"><link rel="prefetch" href="/lihao-book/assets/js/356.0cbcd8e9.js"><link rel="prefetch" href="/lihao-book/assets/js/357.bf5ca704.js"><link rel="prefetch" href="/lihao-book/assets/js/358.f7016cae.js"><link rel="prefetch" href="/lihao-book/assets/js/359.cc716d97.js"><link rel="prefetch" href="/lihao-book/assets/js/36.4246b6c6.js"><link rel="prefetch" href="/lihao-book/assets/js/360.d6f8a0a1.js"><link rel="prefetch" href="/lihao-book/assets/js/361.152f6111.js"><link rel="prefetch" href="/lihao-book/assets/js/362.0bb54548.js"><link rel="prefetch" href="/lihao-book/assets/js/363.41c74b14.js"><link rel="prefetch" href="/lihao-book/assets/js/364.bc18cb90.js"><link rel="prefetch" href="/lihao-book/assets/js/365.985b7831.js"><link rel="prefetch" href="/lihao-book/assets/js/366.fee5dacc.js"><link rel="prefetch" href="/lihao-book/assets/js/367.9ff5ae13.js"><link rel="prefetch" href="/lihao-book/assets/js/368.7cde5cea.js"><link rel="prefetch" href="/lihao-book/assets/js/369.fc22337d.js"><link rel="prefetch" href="/lihao-book/assets/js/37.dfa3708e.js"><link rel="prefetch" href="/lihao-book/assets/js/370.054bf511.js"><link rel="prefetch" href="/lihao-book/assets/js/371.a7df178f.js"><link rel="prefetch" href="/lihao-book/assets/js/372.011632ed.js"><link rel="prefetch" href="/lihao-book/assets/js/373.cd7d26e0.js"><link rel="prefetch" href="/lihao-book/assets/js/374.1ba88872.js"><link rel="prefetch" href="/lihao-book/assets/js/375.5a93f291.js"><link rel="prefetch" href="/lihao-book/assets/js/376.40301383.js"><link rel="prefetch" href="/lihao-book/assets/js/377.187a5220.js"><link rel="prefetch" href="/lihao-book/assets/js/378.ae87cbf4.js"><link rel="prefetch" href="/lihao-book/assets/js/379.e5c35f3b.js"><link rel="prefetch" href="/lihao-book/assets/js/38.176c1c40.js"><link rel="prefetch" href="/lihao-book/assets/js/380.829f70a4.js"><link rel="prefetch" href="/lihao-book/assets/js/381.53a5dbf3.js"><link rel="prefetch" href="/lihao-book/assets/js/382.512d7138.js"><link rel="prefetch" href="/lihao-book/assets/js/383.ac659a91.js"><link rel="prefetch" href="/lihao-book/assets/js/384.c093f4fc.js"><link rel="prefetch" href="/lihao-book/assets/js/385.896a39c2.js"><link rel="prefetch" href="/lihao-book/assets/js/386.62fceb35.js"><link rel="prefetch" href="/lihao-book/assets/js/387.364c0190.js"><link rel="prefetch" href="/lihao-book/assets/js/388.eaabba51.js"><link rel="prefetch" href="/lihao-book/assets/js/389.fdf5404d.js"><link rel="prefetch" href="/lihao-book/assets/js/39.27ac635f.js"><link rel="prefetch" href="/lihao-book/assets/js/390.164581e6.js"><link rel="prefetch" href="/lihao-book/assets/js/391.ff05de43.js"><link rel="prefetch" href="/lihao-book/assets/js/392.ab69789c.js"><link rel="prefetch" href="/lihao-book/assets/js/393.62475271.js"><link rel="prefetch" href="/lihao-book/assets/js/394.633a7221.js"><link rel="prefetch" href="/lihao-book/assets/js/395.c8b15821.js"><link rel="prefetch" href="/lihao-book/assets/js/396.69a34979.js"><link rel="prefetch" href="/lihao-book/assets/js/397.d22ec39e.js"><link rel="prefetch" href="/lihao-book/assets/js/398.4cac6fca.js"><link rel="prefetch" href="/lihao-book/assets/js/399.ac1fb275.js"><link rel="prefetch" href="/lihao-book/assets/js/4.406f5ebb.js"><link rel="prefetch" href="/lihao-book/assets/js/40.08d34e5e.js"><link rel="prefetch" href="/lihao-book/assets/js/400.33d554bc.js"><link rel="prefetch" href="/lihao-book/assets/js/401.b8387da0.js"><link rel="prefetch" href="/lihao-book/assets/js/402.09140676.js"><link rel="prefetch" href="/lihao-book/assets/js/403.bc808d5b.js"><link rel="prefetch" href="/lihao-book/assets/js/404.80823262.js"><link rel="prefetch" href="/lihao-book/assets/js/405.4a02a7c7.js"><link rel="prefetch" href="/lihao-book/assets/js/406.7b523b69.js"><link rel="prefetch" href="/lihao-book/assets/js/407.0026d527.js"><link rel="prefetch" href="/lihao-book/assets/js/408.b9fc83cc.js"><link rel="prefetch" href="/lihao-book/assets/js/409.7fbfa4cb.js"><link rel="prefetch" href="/lihao-book/assets/js/41.facb806f.js"><link rel="prefetch" href="/lihao-book/assets/js/410.488d19a9.js"><link rel="prefetch" href="/lihao-book/assets/js/411.6e14e7cf.js"><link rel="prefetch" href="/lihao-book/assets/js/412.4c80c1e8.js"><link rel="prefetch" href="/lihao-book/assets/js/413.50bf0629.js"><link rel="prefetch" href="/lihao-book/assets/js/414.08d40d07.js"><link rel="prefetch" href="/lihao-book/assets/js/415.6ec98b89.js"><link rel="prefetch" href="/lihao-book/assets/js/416.a28621a4.js"><link rel="prefetch" href="/lihao-book/assets/js/417.7e2954b2.js"><link rel="prefetch" href="/lihao-book/assets/js/418.de7b5d6c.js"><link rel="prefetch" href="/lihao-book/assets/js/419.7098723b.js"><link rel="prefetch" href="/lihao-book/assets/js/42.e373553b.js"><link rel="prefetch" href="/lihao-book/assets/js/420.f34754fe.js"><link rel="prefetch" href="/lihao-book/assets/js/421.64c628b8.js"><link rel="prefetch" href="/lihao-book/assets/js/422.c83c6f42.js"><link rel="prefetch" href="/lihao-book/assets/js/423.8a416b0c.js"><link rel="prefetch" href="/lihao-book/assets/js/424.fe8bb1dd.js"><link rel="prefetch" href="/lihao-book/assets/js/425.09877e51.js"><link rel="prefetch" href="/lihao-book/assets/js/426.e5b48888.js"><link rel="prefetch" href="/lihao-book/assets/js/427.139bc35d.js"><link rel="prefetch" href="/lihao-book/assets/js/428.15d8c02e.js"><link rel="prefetch" href="/lihao-book/assets/js/429.6a616ef2.js"><link rel="prefetch" href="/lihao-book/assets/js/43.39ce5174.js"><link rel="prefetch" href="/lihao-book/assets/js/430.68684c96.js"><link rel="prefetch" href="/lihao-book/assets/js/431.6b64f421.js"><link rel="prefetch" href="/lihao-book/assets/js/432.aa828c01.js"><link rel="prefetch" href="/lihao-book/assets/js/433.a3b3d7fd.js"><link rel="prefetch" href="/lihao-book/assets/js/434.ba931564.js"><link rel="prefetch" href="/lihao-book/assets/js/435.2b6bd77a.js"><link rel="prefetch" href="/lihao-book/assets/js/436.c6781d89.js"><link rel="prefetch" href="/lihao-book/assets/js/437.e37daf62.js"><link rel="prefetch" href="/lihao-book/assets/js/438.94b29df2.js"><link rel="prefetch" href="/lihao-book/assets/js/439.82321bc3.js"><link rel="prefetch" href="/lihao-book/assets/js/44.92b307d2.js"><link rel="prefetch" href="/lihao-book/assets/js/440.c8854188.js"><link rel="prefetch" href="/lihao-book/assets/js/441.c11e9513.js"><link rel="prefetch" href="/lihao-book/assets/js/442.132ff1af.js"><link rel="prefetch" href="/lihao-book/assets/js/443.e14d3748.js"><link rel="prefetch" href="/lihao-book/assets/js/444.012f7e40.js"><link rel="prefetch" href="/lihao-book/assets/js/445.be467eec.js"><link rel="prefetch" href="/lihao-book/assets/js/446.5d228f29.js"><link rel="prefetch" href="/lihao-book/assets/js/447.062a3ce8.js"><link rel="prefetch" href="/lihao-book/assets/js/448.5797db7d.js"><link rel="prefetch" href="/lihao-book/assets/js/449.046761b8.js"><link rel="prefetch" href="/lihao-book/assets/js/45.174b54e3.js"><link rel="prefetch" href="/lihao-book/assets/js/450.b78c5ab3.js"><link rel="prefetch" href="/lihao-book/assets/js/451.6a03c1a6.js"><link rel="prefetch" href="/lihao-book/assets/js/452.ef7d42ae.js"><link rel="prefetch" href="/lihao-book/assets/js/453.7e47a5db.js"><link rel="prefetch" href="/lihao-book/assets/js/454.bd21c430.js"><link rel="prefetch" href="/lihao-book/assets/js/455.12998ff5.js"><link rel="prefetch" href="/lihao-book/assets/js/456.47bd190b.js"><link rel="prefetch" href="/lihao-book/assets/js/457.2e66607c.js"><link rel="prefetch" href="/lihao-book/assets/js/458.e6b0c5f7.js"><link rel="prefetch" href="/lihao-book/assets/js/459.2da7de99.js"><link rel="prefetch" href="/lihao-book/assets/js/46.237c6b0c.js"><link rel="prefetch" href="/lihao-book/assets/js/460.b90e3e96.js"><link rel="prefetch" href="/lihao-book/assets/js/461.4ea72882.js"><link rel="prefetch" href="/lihao-book/assets/js/462.4cb43b84.js"><link rel="prefetch" href="/lihao-book/assets/js/463.fc969585.js"><link rel="prefetch" href="/lihao-book/assets/js/464.63d09d56.js"><link rel="prefetch" href="/lihao-book/assets/js/465.57a47826.js"><link rel="prefetch" href="/lihao-book/assets/js/466.8967e957.js"><link rel="prefetch" href="/lihao-book/assets/js/467.bae3ae95.js"><link rel="prefetch" href="/lihao-book/assets/js/468.44077ebe.js"><link rel="prefetch" href="/lihao-book/assets/js/469.20aa1eaf.js"><link rel="prefetch" href="/lihao-book/assets/js/47.93191fd0.js"><link rel="prefetch" href="/lihao-book/assets/js/470.f57ab720.js"><link rel="prefetch" href="/lihao-book/assets/js/471.6770aa7a.js"><link rel="prefetch" href="/lihao-book/assets/js/472.5c43251c.js"><link rel="prefetch" href="/lihao-book/assets/js/473.93835d66.js"><link rel="prefetch" href="/lihao-book/assets/js/474.f3220e66.js"><link rel="prefetch" href="/lihao-book/assets/js/475.7becaf94.js"><link rel="prefetch" href="/lihao-book/assets/js/476.ce50a474.js"><link rel="prefetch" href="/lihao-book/assets/js/477.a00ddea7.js"><link rel="prefetch" href="/lihao-book/assets/js/478.56ab9fcd.js"><link rel="prefetch" href="/lihao-book/assets/js/479.a5e1a254.js"><link rel="prefetch" href="/lihao-book/assets/js/48.0e0ba6fc.js"><link rel="prefetch" href="/lihao-book/assets/js/480.d4501b3a.js"><link rel="prefetch" href="/lihao-book/assets/js/481.657bd8b3.js"><link rel="prefetch" href="/lihao-book/assets/js/482.d85a16da.js"><link rel="prefetch" href="/lihao-book/assets/js/483.a4df6d90.js"><link rel="prefetch" href="/lihao-book/assets/js/484.0eaadccb.js"><link rel="prefetch" href="/lihao-book/assets/js/485.19e7f998.js"><link rel="prefetch" href="/lihao-book/assets/js/486.063668fd.js"><link rel="prefetch" href="/lihao-book/assets/js/487.6827685c.js"><link rel="prefetch" href="/lihao-book/assets/js/488.034cba73.js"><link rel="prefetch" href="/lihao-book/assets/js/489.e7c947e2.js"><link rel="prefetch" href="/lihao-book/assets/js/49.8d6f5626.js"><link rel="prefetch" href="/lihao-book/assets/js/490.b94e19e0.js"><link rel="prefetch" href="/lihao-book/assets/js/491.9ea35f56.js"><link rel="prefetch" href="/lihao-book/assets/js/492.938842ff.js"><link rel="prefetch" href="/lihao-book/assets/js/493.dc657b8f.js"><link rel="prefetch" href="/lihao-book/assets/js/494.8873ff26.js"><link rel="prefetch" href="/lihao-book/assets/js/495.81d68501.js"><link rel="prefetch" href="/lihao-book/assets/js/496.9bb60d52.js"><link rel="prefetch" href="/lihao-book/assets/js/497.7e1a4f32.js"><link rel="prefetch" href="/lihao-book/assets/js/499.03428299.js"><link rel="prefetch" href="/lihao-book/assets/js/5.7699852b.js"><link rel="prefetch" href="/lihao-book/assets/js/50.e75c1526.js"><link rel="prefetch" href="/lihao-book/assets/js/500.79bccc49.js"><link rel="prefetch" href="/lihao-book/assets/js/501.5a43d349.js"><link rel="prefetch" href="/lihao-book/assets/js/502.ad48b9d1.js"><link rel="prefetch" href="/lihao-book/assets/js/503.f157487c.js"><link rel="prefetch" href="/lihao-book/assets/js/504.7308d62b.js"><link rel="prefetch" href="/lihao-book/assets/js/505.23458def.js"><link rel="prefetch" href="/lihao-book/assets/js/506.0858bb59.js"><link rel="prefetch" href="/lihao-book/assets/js/507.7612ff08.js"><link rel="prefetch" href="/lihao-book/assets/js/508.aa9e1346.js"><link rel="prefetch" href="/lihao-book/assets/js/509.3ecdc2c7.js"><link rel="prefetch" href="/lihao-book/assets/js/51.1b146929.js"><link rel="prefetch" href="/lihao-book/assets/js/510.f71141c4.js"><link rel="prefetch" href="/lihao-book/assets/js/511.d7875807.js"><link rel="prefetch" href="/lihao-book/assets/js/512.c5f999fe.js"><link rel="prefetch" href="/lihao-book/assets/js/513.2aee05d0.js"><link rel="prefetch" href="/lihao-book/assets/js/514.08bfe81c.js"><link rel="prefetch" href="/lihao-book/assets/js/515.f0212739.js"><link rel="prefetch" href="/lihao-book/assets/js/516.55a6ecc0.js"><link rel="prefetch" href="/lihao-book/assets/js/517.5a077079.js"><link rel="prefetch" href="/lihao-book/assets/js/518.9aa1e84e.js"><link rel="prefetch" href="/lihao-book/assets/js/519.94fcd932.js"><link rel="prefetch" href="/lihao-book/assets/js/52.1d095d5e.js"><link rel="prefetch" href="/lihao-book/assets/js/520.6c852b9d.js"><link rel="prefetch" href="/lihao-book/assets/js/521.fa4ebf18.js"><link rel="prefetch" href="/lihao-book/assets/js/522.2d1074df.js"><link rel="prefetch" href="/lihao-book/assets/js/523.a636db40.js"><link rel="prefetch" href="/lihao-book/assets/js/524.42947720.js"><link rel="prefetch" href="/lihao-book/assets/js/525.e50f6d52.js"><link rel="prefetch" href="/lihao-book/assets/js/526.a296f219.js"><link rel="prefetch" href="/lihao-book/assets/js/527.3bfc9fa0.js"><link rel="prefetch" href="/lihao-book/assets/js/528.e87fb14f.js"><link rel="prefetch" href="/lihao-book/assets/js/529.6a2018b5.js"><link rel="prefetch" href="/lihao-book/assets/js/53.2fc9a71d.js"><link rel="prefetch" href="/lihao-book/assets/js/530.cbc59821.js"><link rel="prefetch" href="/lihao-book/assets/js/531.0bd4ce8d.js"><link rel="prefetch" href="/lihao-book/assets/js/532.b20f2d82.js"><link rel="prefetch" href="/lihao-book/assets/js/533.f28cc66b.js"><link rel="prefetch" href="/lihao-book/assets/js/534.250dad26.js"><link rel="prefetch" href="/lihao-book/assets/js/535.9519a679.js"><link rel="prefetch" href="/lihao-book/assets/js/536.824e3d33.js"><link rel="prefetch" href="/lihao-book/assets/js/537.1dbbb0e5.js"><link rel="prefetch" href="/lihao-book/assets/js/538.77cbaf4d.js"><link rel="prefetch" href="/lihao-book/assets/js/539.aea63177.js"><link rel="prefetch" href="/lihao-book/assets/js/54.78977b32.js"><link rel="prefetch" href="/lihao-book/assets/js/540.c8343b33.js"><link rel="prefetch" href="/lihao-book/assets/js/541.bd31656c.js"><link rel="prefetch" href="/lihao-book/assets/js/542.b7787877.js"><link rel="prefetch" href="/lihao-book/assets/js/543.2e9e6b24.js"><link rel="prefetch" href="/lihao-book/assets/js/544.d2dd97a4.js"><link rel="prefetch" href="/lihao-book/assets/js/545.4e837ba7.js"><link rel="prefetch" href="/lihao-book/assets/js/546.aba69fa4.js"><link rel="prefetch" href="/lihao-book/assets/js/547.ee3a836b.js"><link rel="prefetch" href="/lihao-book/assets/js/548.83f6961e.js"><link rel="prefetch" href="/lihao-book/assets/js/549.125196f5.js"><link rel="prefetch" href="/lihao-book/assets/js/55.9556870b.js"><link rel="prefetch" href="/lihao-book/assets/js/550.76628109.js"><link rel="prefetch" href="/lihao-book/assets/js/551.f56c3cd2.js"><link rel="prefetch" href="/lihao-book/assets/js/552.c6e1243e.js"><link rel="prefetch" href="/lihao-book/assets/js/553.481f67a7.js"><link rel="prefetch" href="/lihao-book/assets/js/554.9a7a0898.js"><link rel="prefetch" href="/lihao-book/assets/js/555.c9f4b6ea.js"><link rel="prefetch" href="/lihao-book/assets/js/556.c23c6612.js"><link rel="prefetch" href="/lihao-book/assets/js/557.7e7ad697.js"><link rel="prefetch" href="/lihao-book/assets/js/558.e0f444bb.js"><link rel="prefetch" href="/lihao-book/assets/js/559.aa7ce32f.js"><link rel="prefetch" href="/lihao-book/assets/js/56.65f91a0e.js"><link rel="prefetch" href="/lihao-book/assets/js/560.72580efb.js"><link rel="prefetch" href="/lihao-book/assets/js/561.a57fda2b.js"><link rel="prefetch" href="/lihao-book/assets/js/562.ed63c469.js"><link rel="prefetch" href="/lihao-book/assets/js/563.72f91921.js"><link rel="prefetch" href="/lihao-book/assets/js/564.bf27dd35.js"><link rel="prefetch" href="/lihao-book/assets/js/565.4571f776.js"><link rel="prefetch" href="/lihao-book/assets/js/566.5f0c188e.js"><link rel="prefetch" href="/lihao-book/assets/js/567.4381247f.js"><link rel="prefetch" href="/lihao-book/assets/js/568.ce1774fb.js"><link rel="prefetch" href="/lihao-book/assets/js/569.237d4d39.js"><link rel="prefetch" href="/lihao-book/assets/js/57.1df1a5e7.js"><link rel="prefetch" href="/lihao-book/assets/js/570.a8a17de6.js"><link rel="prefetch" href="/lihao-book/assets/js/571.65e0fd0f.js"><link rel="prefetch" href="/lihao-book/assets/js/572.3dc0f47c.js"><link rel="prefetch" href="/lihao-book/assets/js/573.8432f620.js"><link rel="prefetch" href="/lihao-book/assets/js/574.6537c4c1.js"><link rel="prefetch" href="/lihao-book/assets/js/575.e9bec360.js"><link rel="prefetch" href="/lihao-book/assets/js/576.2103304d.js"><link rel="prefetch" href="/lihao-book/assets/js/577.1c4c7df4.js"><link rel="prefetch" href="/lihao-book/assets/js/578.653fa862.js"><link rel="prefetch" href="/lihao-book/assets/js/579.04d2e054.js"><link rel="prefetch" href="/lihao-book/assets/js/58.02271487.js"><link rel="prefetch" href="/lihao-book/assets/js/580.e4a4248e.js"><link rel="prefetch" href="/lihao-book/assets/js/581.d990b149.js"><link rel="prefetch" href="/lihao-book/assets/js/582.c1ae3853.js"><link rel="prefetch" href="/lihao-book/assets/js/583.bb67fc36.js"><link rel="prefetch" href="/lihao-book/assets/js/584.d4f632b7.js"><link rel="prefetch" href="/lihao-book/assets/js/585.417b85f9.js"><link rel="prefetch" href="/lihao-book/assets/js/586.2867ef81.js"><link rel="prefetch" href="/lihao-book/assets/js/587.83937950.js"><link rel="prefetch" href="/lihao-book/assets/js/588.df3a44ae.js"><link rel="prefetch" href="/lihao-book/assets/js/589.b0023430.js"><link rel="prefetch" href="/lihao-book/assets/js/59.f97957ff.js"><link rel="prefetch" href="/lihao-book/assets/js/590.91fc01d0.js"><link rel="prefetch" href="/lihao-book/assets/js/591.38e7c628.js"><link rel="prefetch" href="/lihao-book/assets/js/592.d03b9609.js"><link rel="prefetch" href="/lihao-book/assets/js/593.c1f9b212.js"><link rel="prefetch" href="/lihao-book/assets/js/594.5172b3d5.js"><link rel="prefetch" href="/lihao-book/assets/js/595.7935e92b.js"><link rel="prefetch" href="/lihao-book/assets/js/596.6cca67fd.js"><link rel="prefetch" href="/lihao-book/assets/js/597.90cd37d9.js"><link rel="prefetch" href="/lihao-book/assets/js/598.a0960ba9.js"><link rel="prefetch" href="/lihao-book/assets/js/599.4b7537d1.js"><link rel="prefetch" href="/lihao-book/assets/js/6.f2ecbcdf.js"><link rel="prefetch" href="/lihao-book/assets/js/60.da53edcf.js"><link rel="prefetch" href="/lihao-book/assets/js/600.36713636.js"><link rel="prefetch" href="/lihao-book/assets/js/601.3ea4e788.js"><link rel="prefetch" href="/lihao-book/assets/js/602.c38843d4.js"><link rel="prefetch" href="/lihao-book/assets/js/603.7373cbfd.js"><link rel="prefetch" href="/lihao-book/assets/js/604.e815cf94.js"><link rel="prefetch" href="/lihao-book/assets/js/605.58618d9d.js"><link rel="prefetch" href="/lihao-book/assets/js/606.d84f75f9.js"><link rel="prefetch" href="/lihao-book/assets/js/607.f7c8fdeb.js"><link rel="prefetch" href="/lihao-book/assets/js/608.f03360da.js"><link rel="prefetch" href="/lihao-book/assets/js/61.b7a8db6d.js"><link rel="prefetch" href="/lihao-book/assets/js/62.c3f33cb2.js"><link rel="prefetch" href="/lihao-book/assets/js/63.749c7b19.js"><link rel="prefetch" href="/lihao-book/assets/js/64.b5338647.js"><link rel="prefetch" href="/lihao-book/assets/js/65.4993a88e.js"><link rel="prefetch" href="/lihao-book/assets/js/66.8fa5ac88.js"><link rel="prefetch" href="/lihao-book/assets/js/67.4fa276bd.js"><link rel="prefetch" href="/lihao-book/assets/js/68.ac16123b.js"><link rel="prefetch" href="/lihao-book/assets/js/69.576e1e4f.js"><link rel="prefetch" href="/lihao-book/assets/js/7.a3829967.js"><link rel="prefetch" href="/lihao-book/assets/js/70.ef050304.js"><link rel="prefetch" href="/lihao-book/assets/js/71.dd7eb574.js"><link rel="prefetch" href="/lihao-book/assets/js/72.063f9fd4.js"><link rel="prefetch" href="/lihao-book/assets/js/73.1b52fa47.js"><link rel="prefetch" href="/lihao-book/assets/js/74.e9c1452c.js"><link rel="prefetch" href="/lihao-book/assets/js/75.90539842.js"><link rel="prefetch" href="/lihao-book/assets/js/76.1f697121.js"><link rel="prefetch" href="/lihao-book/assets/js/77.55569104.js"><link rel="prefetch" href="/lihao-book/assets/js/78.d8899573.js"><link rel="prefetch" href="/lihao-book/assets/js/79.121a42ab.js"><link rel="prefetch" href="/lihao-book/assets/js/8.717b3492.js"><link rel="prefetch" href="/lihao-book/assets/js/80.16e2f42b.js"><link rel="prefetch" href="/lihao-book/assets/js/81.893ac4c1.js"><link rel="prefetch" href="/lihao-book/assets/js/82.9a2c51ff.js"><link rel="prefetch" href="/lihao-book/assets/js/83.6b8fa0f8.js"><link rel="prefetch" href="/lihao-book/assets/js/84.306b2b01.js"><link rel="prefetch" href="/lihao-book/assets/js/85.f4838824.js"><link rel="prefetch" href="/lihao-book/assets/js/86.bf4fb78c.js"><link rel="prefetch" href="/lihao-book/assets/js/87.f5397732.js"><link rel="prefetch" href="/lihao-book/assets/js/88.0a184770.js"><link rel="prefetch" href="/lihao-book/assets/js/89.db6ff0ce.js"><link rel="prefetch" href="/lihao-book/assets/js/9.e86db1db.js"><link rel="prefetch" href="/lihao-book/assets/js/90.30c5a669.js"><link rel="prefetch" href="/lihao-book/assets/js/91.9cdc4dcf.js"><link rel="prefetch" href="/lihao-book/assets/js/92.55ba984d.js"><link rel="prefetch" href="/lihao-book/assets/js/93.7a3016cc.js"><link rel="prefetch" href="/lihao-book/assets/js/94.eaf68da0.js"><link rel="prefetch" href="/lihao-book/assets/js/95.5412ffaa.js"><link rel="prefetch" href="/lihao-book/assets/js/96.c5d5e03c.js"><link rel="prefetch" href="/lihao-book/assets/js/97.eb136769.js"><link rel="prefetch" href="/lihao-book/assets/js/98.2815cb20.js"><link rel="prefetch" href="/lihao-book/assets/js/99.589609cf.js">
    <link rel="stylesheet" href="/lihao-book/assets/css/0.styles.aa12d998.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/lihao-book/" class="home-link router-link-active"><img src="/lihao-book/images/logo.png" alt="笔记" class="logo"> <span class="site-name can-hide">笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/lihao-book/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记集合" class="dropdown-title"><span class="title">笔记集合</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记集合" class="mobile-dropdown-title"><span class="title">笔记集合</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lihao-book/JavaScript/1.JS随笔.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Vue/Vue 高阶组件.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/React/1、webpack 环境搭建.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Nodejs/tool.html" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Koa/1. 初识 Koa.html" class="nav-link">
  Koa
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Webpack/1.Webpack 入门.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/CSS/中间自适应，两边固定.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/前端/1.HTTP缓存.html" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/数据结构和算法/二叉搜索树.html" class="nav-link">
  数据结构和算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏好书" class="dropdown-title"><span class="title">收藏好书</span> <span class="arrow down"></span></button> <button type="button" aria-label="收藏好书" class="mobile-dropdown-title"><span class="title">收藏好书</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lihao-book/ES6-阮一峰/[es6]1.ECMAScript.6.简介.html" class="nav-link">
  ES6 阮一峰
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/TypeScript-xcatliu/" class="nav-link">
  TypeScript xcatliu
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="站点" class="dropdown-title"><span class="title">站点</span> <span class="arrow down"></span></button> <button type="button" aria-label="站点" class="mobile-dropdown-title"><span class="title">站点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://liu-lihao.github.io/lihao-book/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://liu-lihao.gitee.io/lihao-book/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/liu-lihao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/lihao-book/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记集合" class="dropdown-title"><span class="title">笔记集合</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记集合" class="mobile-dropdown-title"><span class="title">笔记集合</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lihao-book/JavaScript/1.JS随笔.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Vue/Vue 高阶组件.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/React/1、webpack 环境搭建.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Nodejs/tool.html" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Koa/1. 初识 Koa.html" class="nav-link">
  Koa
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Webpack/1.Webpack 入门.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/CSS/中间自适应，两边固定.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/前端/1.HTTP缓存.html" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/数据结构和算法/二叉搜索树.html" class="nav-link">
  数据结构和算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏好书" class="dropdown-title"><span class="title">收藏好书</span> <span class="arrow down"></span></button> <button type="button" aria-label="收藏好书" class="mobile-dropdown-title"><span class="title">收藏好书</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lihao-book/ES6-阮一峰/[es6]1.ECMAScript.6.简介.html" class="nav-link">
  ES6 阮一峰
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/TypeScript-xcatliu/" class="nav-link">
  TypeScript xcatliu
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="站点" class="dropdown-title"><span class="title">站点</span> <span class="arrow down"></span></button> <button type="button" aria-label="站点" class="mobile-dropdown-title"><span class="title">站点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://liu-lihao.github.io/lihao-book/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://liu-lihao.gitee.io/lihao-book/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/liu-lihao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/lihao-book/ES6-阮一峰/[es6]1.ECMAScript.6.简介.html" class="sidebar-link">ECMAScript 6 简介</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html" class="active sidebar-link">let 和 const 命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#let-命令" class="sidebar-link">let 命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#基本用法" class="sidebar-link">基本用法</a></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#不存在变量提升" class="sidebar-link">不存在变量提升</a></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#暂时性死区" class="sidebar-link">暂时性死区</a></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#不允许重复声明" class="sidebar-link">不允许重复声明</a></li></ul></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#块级作用域" class="sidebar-link">块级作用域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#为什么需要块级作用域" class="sidebar-link">为什么需要块级作用域？</a></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#es6-的块级作用域" class="sidebar-link">ES6 的块级作用域</a></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#块级作用域与函数声明" class="sidebar-link">块级作用域与函数声明</a></li></ul></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#const-命令" class="sidebar-link">const 命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#基本用法-2" class="sidebar-link">基本用法</a></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#本质" class="sidebar-link">本质</a></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#es6-声明变量的六种方法" class="sidebar-link">ES6 声明变量的六种方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#顶层对象的属性" class="sidebar-link">顶层对象的属性</a></li><li class="sidebar-sub-header"><a href="/lihao-book/ES6-阮一峰/[es6]2.let和const命令.html#global-对象" class="sidebar-link">global 对象</a></li></ul></li><li><a href="/lihao-book/ES6-阮一峰/[es6]3.变量的解构赋值.html" class="sidebar-link">变量的解构赋值</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]4.字符串的扩展.html" class="sidebar-link">字符串的扩展</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]5.正则的扩展.html" class="sidebar-link">正则的扩展</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]6.数值的扩展.html" class="sidebar-link">数值的扩展</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]7.函数的扩展.html" class="sidebar-link">函数的扩展</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]8.数组的扩展.html" class="sidebar-link">数组的扩展</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]9.对象的扩展.html" class="sidebar-link">对象的扩展</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]10.对象的新增方法.html" class="sidebar-link">对象的新增方法</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]11.Symbol.html" class="sidebar-link">Symbol</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]12.Set.和.Map.数据结构.html" class="sidebar-link">Set 和 Map 数据结构</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]13.Proxy.html" class="sidebar-link">Proxy</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]14.Reflect.html" class="sidebar-link">Reflect</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]15.Promise.对象.html" class="sidebar-link">Promise 对象</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]16.Iterator.和.for...of.循环.html" class="sidebar-link">Iterator 和 for...of 循环</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]17.Generator.函数的语法.html" class="sidebar-link">Generator 函数的语法</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]18.Generator.函数的异步应用.html" class="sidebar-link">Generator 函数的异步应用</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]19.async.函数.html" class="sidebar-link">async 函数</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]20.Class.的基本语法.html" class="sidebar-link">Class 的基本语法</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]21.Class.的继承.html" class="sidebar-link">Class 的继承</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]22.Module.的语法.html" class="sidebar-link">Module 的语法</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]23.Module.的加载实现.html" class="sidebar-link">Module 的加载实现</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]24.编程风格.html" class="sidebar-link">编程风格</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]25.读懂规格.html" class="sidebar-link">读懂 ECMAScript 规格</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]26.ArrayBuffer.html" class="sidebar-link">ArrayBuffer</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]27.最新提案.html" class="sidebar-link">最新提案</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]28.Decorator.html" class="sidebar-link">修饰器</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]29.参考链接.html" class="sidebar-link">参考链接</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]30.SIMD.html" class="sidebar-link">SIMD</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]31.Mixin.html" class="sidebar-link">Mixin</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]32.函数式编程.html" class="sidebar-link">函数式编程</a></li><li><a href="/lihao-book/ES6-阮一峰/[es6]33.鸣谢.html" class="sidebar-link">鸣谢</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="let-和-const-命令"><a href="#let-和-const-命令" class="header-anchor">#</a> let 和 const 命令</h1> <h2 id="let-命令"><a href="#let-命令" class="header-anchor">#</a> let 命令</h2> <h3 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h3> <p>ES6 新增了<code>let</code>命令，用来声明变量。它的用法类似于<code>var</code>，但是所声明的变量，只在<code>let</code>命令所在的代码块内有效。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

a <span class="token comment">// ReferenceError: a is not defined.</span>
b <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面代码在代码块之中，分别用<code>let</code>和<code>var</code>声明了两个变量。然后在代码块之外调用这两个变量，结果<code>let</code>声明的变量报错，<code>var</code>声明的变量返回了正确的值。这表明，<code>let</code>声明的变量只在它所在的代码块有效。</p> <p><code>for</code>循环的计数器，就很合适使用<code>let</code>命令。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ReferenceError: i is not defined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面代码中，计数器<code>i</code>只在<code>for</code>循环体内有效，在循环体外引用就会报错。</p> <p>下面的代码如果使用<code>var</code>，最后输出的是<code>10</code>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
a<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面代码中，变量<code>i</code>是<code>var</code>命令声明的，在全局范围内都有效，所以全局只有一个变量<code>i</code>。每一次循环，变量<code>i</code>的值都会发生改变，而循环内被赋给数组<code>a</code>的函数内部的<code>console.log(i)</code>，里面的<code>i</code>指向的就是全局的<code>i</code>。也就是说，所有数组<code>a</code>的成员里面的<code>i</code>，指向的都是同一个<code>i</code>，导致运行时输出的是最后一轮的<code>i</code>的值，也就是 10。</p> <p>如果使用<code>let</code>，声明的变量仅在块级作用域内有效，最后输出的是 6。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
a<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面代码中，变量<code>i</code>是<code>let</code>声明的，当前的<code>i</code>只在本轮循环有效，所以每一次循环的<code>i</code>其实都是一个新的变量，所以最后输出的是<code>6</code>。你可能会问，如果每一轮循环的变量<code>i</code>都是重新声明的，那它怎么知道上一轮循环的值，从而计算出本轮循环的值？这是因为 JavaScript 引擎内部会记住上一轮循环的值，初始化本轮的变量<code>i</code>时，就在上一轮循环的基础上进行计算。</p> <p>另外，<code>for</code>循环还有一个特别之处，就是设置循环变量的那部分是一个父作用域，而循环体内部是一个单独的子作用域。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// abc</span>
<span class="token comment">// abc</span>
<span class="token comment">// abc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面代码正确运行，输出了 3 次<code>abc</code>。这表明函数内部的变量<code>i</code>与循环变量<code>i</code>不在同一个作用域，有各自单独的作用域。</p> <h3 id="不存在变量提升"><a href="#不存在变量提升" class="header-anchor">#</a> 不存在变量提升</h3> <p><code>var</code>命令会发生“变量提升”现象，即变量可以在声明之前使用，值为<code>undefined</code>。这种现象多多少少是有些奇怪的，按照一般的逻辑，变量应该在声明语句之后才可以使用。</p> <p>为了纠正这种现象，<code>let</code>命令改变了语法行为，它所声明的变量一定要在声明后使用，否则报错。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// var 的情况</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出undefined</span>
<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// let 的情况</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错ReferenceError</span>
<span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面代码中，变量<code>foo</code>用<code>var</code>命令声明，会发生变量提升，即脚本开始运行时，变量<code>foo</code>已经存在了，但是没有值，所以会输出<code>undefined</code>。变量<code>bar</code>用<code>let</code>命令声明，不会发生变量提升。这表示在声明它之前，变量<code>bar</code>是不存在的，这时如果用到它，就会抛出一个错误。</p> <h3 id="暂时性死区"><a href="#暂时性死区" class="header-anchor">#</a> 暂时性死区</h3> <p>只要块级作用域内存在<code>let</code>命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  tmp <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
  <span class="token keyword">let</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面代码中，存在全局变量<code>tmp</code>，但是块级作用域内<code>let</code>又声明了一个局部变量<code>tmp</code>，导致后者绑定这个块级作用域，所以在<code>let</code>声明变量前，对<code>tmp</code>赋值会报错。</p> <p>ES6 明确规定，如果区块中存在<code>let</code>和<code>const</code>命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。</p> <p>总之，在代码块内，使用<code>let</code>命令声明变量之前，该变量都是不可用的。这在语法上，称为“暂时性死区”（temporal dead zone，简称 TDZ）。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TDZ开始</span>
  tmp <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>

  <span class="token keyword">let</span> tmp<span class="token punctuation">;</span> <span class="token comment">// TDZ结束</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>

  tmp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>上面代码中，在<code>let</code>命令声明变量<code>tmp</code>之前，都属于变量<code>tmp</code>的“死区”。</p> <p>“暂时性死区”也意味着<code>typeof</code>不再是一个百分之百安全的操作。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> x<span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
<span class="token keyword">let</span> x<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面代码中，变量<code>x</code>使用<code>let</code>命令声明，所以在声明之前，都属于<code>x</code>的“死区”，只要用到该变量就会报错。因此，<code>typeof</code>运行时就会抛出一个<code>ReferenceError</code>。</p> <p>作为比较，如果一个变量根本没有被声明，使用<code>typeof</code>反而不会报错。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> undeclared_variable <span class="token comment">// &quot;undefined&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面代码中，<code>undeclared_variable</code>是一个不存在的变量名，结果返回“undefined”。所以，在没有<code>let</code>之前，<code>typeof</code>运算符是百分之百安全的，永远不会报错。现在这一点不成立了。这样的设计是为了让大家养成良好的编程习惯，变量一定要在声明之后使用，否则就报错。</p> <p>有些“死区”比较隐蔽，不太容易发现。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> y<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面代码中，调用<code>bar</code>函数之所以报错（某些实现可能不报错），是因为参数<code>x</code>默认值等于另一个参数<code>y</code>，而此时<code>y</code>还没有声明，属于“死区”。如果<code>y</code>的默认值是<code>x</code>，就不会报错，因为此时<code>x</code>已经声明了。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">=</span> x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 2]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>另外，下面的代码也会报错，与<code>var</code>的行为不同。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 不报错</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> x<span class="token punctuation">;</span>

<span class="token comment">// 报错</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> x<span class="token punctuation">;</span>
<span class="token comment">// ReferenceError: x is not defined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面代码报错，也是因为暂时性死区。使用<code>let</code>声明变量时，只要变量在还没有声明完成前使用，就会报错。上面这行就属于这个情况，在变量<code>x</code>的声明语句还没有执行完成前，就去取<code>x</code>的值，导致报错”x 未定义“。</p> <p>ES6 规定暂时性死区和<code>let</code>、<code>const</code>语句不出现变量提升，主要是为了减少运行时错误，防止在变量声明前就使用这个变量，从而导致意料之外的行为。这样的错误在 ES5 是很常见的，现在有了这种规定，避免此类错误就很容易了。</p> <p>总之，暂时性死区的本质就是，只要一进入当前作用域，所要使用的变量就已经存在了，但是不可获取，只有等到声明变量的那一行代码出现，才可以获取和使用该变量。</p> <h3 id="不允许重复声明"><a href="#不允许重复声明" class="header-anchor">#</a> 不允许重复声明</h3> <p><code>let</code>不允许在相同作用域内，重复声明同一个变量。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 报错</span>
<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 报错</span>
<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>因此，不能在函数内部重新声明参数。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 报错</span>

<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arg<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 不报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="块级作用域"><a href="#块级作用域" class="header-anchor">#</a> 块级作用域</h2> <h3 id="为什么需要块级作用域"><a href="#为什么需要块级作用域" class="header-anchor">#</a> 为什么需要块级作用域？</h3> <p>ES5 只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。</p> <p>第一种场景，内层变量可能会覆盖外层变量。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面代码的原意是，<code>if</code>代码块的外部使用外层的<code>tmp</code>变量，内部使用内层的<code>tmp</code>变量。但是，函数<code>f</code>执行后，输出结果为<code>undefined</code>，原因在于变量提升，导致内层的<code>tmp</code>变量覆盖了外层的<code>tmp</code>变量。</p> <p>第二种场景，用来计数的循环变量泄露为全局变量。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面代码中，变量<code>i</code>只用来控制循环，但是循环结束后，它并没有消失，泄露成了全局变量。</p> <h3 id="es6-的块级作用域"><a href="#es6-的块级作用域" class="header-anchor">#</a> ES6 的块级作用域</h3> <p><code>let</code>实际上为 JavaScript 新增了块级作用域。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面的函数有两个代码块，都声明了变量<code>n</code>，运行后输出 5。这表示外层代码块不受内层代码块的影响。如果两次都使用<code>var</code>定义变量<code>n</code>，最后输出的值才是 10。</p> <p>ES6 允许块级作用域的任意嵌套。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\<span class="token punctuation">{</span>\<span class="token punctuation">{</span>\<span class="token punctuation">{</span>\<span class="token punctuation">{</span>\<span class="token keyword">let</span> insane <span class="token operator">=</span> <span class="token string">'Hello World'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面代码使用了一个五层的块级作用域。外层作用域无法读取内层作用域的变量。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\<span class="token punctuation">{</span>\<span class="token punctuation">{</span>\<span class="token punctuation">{</span>\
  <span class="token punctuation">{</span><span class="token keyword">let</span> insane <span class="token operator">=</span> <span class="token string">'Hello World'</span><span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>insane<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>内层作用域可以定义外层作用域的同名变量。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>\<span class="token punctuation">{</span>\<span class="token punctuation">{</span>\<span class="token punctuation">{</span>\
  <span class="token keyword">let</span> insane <span class="token operator">=</span> <span class="token string">'Hello World'</span><span class="token punctuation">;</span>
  <span class="token punctuation">{</span><span class="token keyword">let</span> insane <span class="token operator">=</span> <span class="token string">'Hello World'</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>块级作用域的出现，实际上使得获得广泛应用的立即执行函数表达式（IIFE）不再必要了。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// IIFE 写法</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 块级作用域写法</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> tmp <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="块级作用域与函数声明"><a href="#块级作用域与函数声明" class="header-anchor">#</a> 块级作用域与函数声明</h3> <p>函数能不能在块级作用域之中声明？这是一个相当令人混淆的问题。</p> <p>ES5 规定，函数只能在顶层作用域和函数作用域之中声明，不能在块级作用域声明。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 情况一</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 情况二</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>上面两种函数声明，根据 ES5 的规定都是非法的。</p> <p>但是，浏览器没有遵守这个规定，为了兼容以前的旧代码，还是支持在块级作用域之中声明函数，因此上面两种情况实际都能运行，不会报错。</p> <p>ES6 引入了块级作用域，明确允许在块级作用域之中声明函数。ES6 规定，块级作用域之中，函数声明语句的行为类似于<code>let</code>，在块级作用域之外不可引用。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am outside!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 重复声明一次函数f</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am inside!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面代码在 ES5 中运行，会得到“I am inside!”，因为在<code>if</code>内声明的函数<code>f</code>会被提升到函数头部，实际运行的代码如下。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ES5 环境</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am outside!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am inside!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
  <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ES6 就完全不一样了，理论上会得到“I am outside!”。因为块级作用域内声明的函数类似于<code>let</code>，对作用域之外没有影响。但是，如果你真的在 ES6 浏览器中运行一下上面的代码，是会报错的，这是为什么呢？</p> <p>原来，如果改变了块级作用域内声明的函数的处理规则，显然会对老代码产生很大影响。为了减轻因此产生的不兼容问题，ES6 在<a href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-block-level-function-declarations-web-legacy-compatibility-semantics" target="_blank" rel="noopener noreferrer">附录 B<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>里面规定，浏览器的实现可以不遵守上面的规定，有自己的<a href="http://stackoverflow.com/questions/31419897/what-are-the-precise-semantics-of-block-level-functions-in-es6" target="_blank" rel="noopener noreferrer">行为方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <ul><li>允许在块级作用域内声明函数。</li> <li>函数声明类似于<code>var</code>，即会提升到全局作用域或函数作用域的头部。</li> <li>同时，函数声明还会提升到所在的块级作用域的头部。</li></ul> <p>注意，上面三条规则只对 ES6 的浏览器实现有效，其他环境的实现不用遵守，还是将块级作用域的函数声明当作<code>let</code>处理。</p> <p>根据这三条规则，在浏览器的 ES6 环境中，块级作用域内声明的函数，行为类似于<code>var</code>声明的变量。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 浏览器的 ES6 环境</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am outside!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 重复声明一次函数f</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am inside!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Uncaught TypeError: f is not a function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>上面的代码在符合 ES6 的浏览器中，都会报错，因为实际运行的是下面的代码。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 浏览器的 ES6 环境</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am outside!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am inside!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Uncaught TypeError: f is not a function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>考虑到环境导致的行为差异太大，应该避免在块级作用域内声明函数。如果确实需要，也应该写成函数表达式，而不是函数声明语句。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 函数声明语句</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'secret'</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数表达式</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'secret'</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>另外，还有一个需要注意的地方。ES6 的块级作用域允许声明函数的规则，只在使用大括号的情况下成立，如果没有使用大括号，就会报错。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 不报错</span>
<span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 报错</span>
<span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="const-命令"><a href="#const-命令" class="header-anchor">#</a> const 命令</h2> <h3 id="基本用法-2"><a href="#基本用法-2" class="header-anchor">#</a> 基本用法</h3> <p><code>const</code>声明一个只读的常量。一旦声明，常量的值就不能改变。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.1415</span><span class="token punctuation">;</span>
<span class="token constant">PI</span> <span class="token comment">// 3.1415</span>

<span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: Assignment to constant variable.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面代码表明改变常量的值会报错。</p> <p><code>const</code>声明的变量不得改变值，这意味着，<code>const</code>一旦声明变量，就必须立即初始化，不能留到以后赋值。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> foo<span class="token punctuation">;</span>
<span class="token comment">// SyntaxError: Missing initializer in const declaration</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面代码表示，对于<code>const</code>来说，只声明不赋值，就会报错。</p> <p><code>const</code>的作用域与<code>let</code>命令相同：只在声明所在的块级作用域内有效。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token constant">MAX</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token constant">MAX</span> <span class="token comment">// Uncaught ReferenceError: MAX is not defined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>const</code>命令声明的常量也是不提升，同样存在暂时性死区，只能在声明的位置后面使用。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">MAX</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
  <span class="token keyword">const</span> <span class="token constant">MAX</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面代码在常量<code>MAX</code>声明之前就调用，结果报错。</p> <p><code>const</code>声明的常量，也与<code>let</code>一样不可重复声明。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>

<span class="token comment">// 以下两行都会报错</span>
<span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&quot;Goodbye!&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="本质"><a href="#本质" class="header-anchor">#</a> 本质</h3> <p><code>const</code>实际上保证的，并不是变量的值不得改动，而是变量指向的那个内存地址所保存的数据不得改动。对于简单类型的数据（数值、字符串、布尔值），值就保存在变量指向的那个内存地址，因此等同于常量。但对于复合类型的数据（主要是对象和数组），变量指向的内存地址，保存的只是一个指向实际数据的指针，<code>const</code>只能保证这个指针是固定的（即总是指向另一个固定的地址），至于它指向的数据结构是不是可变的，就完全不能控制了。因此，将一个对象声明为常量必须非常小心。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 为 foo 添加一个属性，可以成功</span>
foo<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span>prop <span class="token comment">// 123</span>

<span class="token comment">// 将 foo 指向另一个对象，就会报错</span>
foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: &quot;foo&quot; is read-only</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>上面代码中，常量<code>foo</code>储存的是一个地址，这个地址指向一个对象。不可变的只是这个地址，即不能把<code>foo</code>指向另一个地址，但对象本身是可变的，所以依然可以为其添加新属性。</p> <p>下面是另一个例子。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可执行</span>
a<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">// 可执行</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Dave'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面代码中，常量<code>a</code>是一个数组，这个数组本身是可写的，但是如果将另一个数组赋值给<code>a</code>，就会报错。</p> <p>如果真的想将对象冻结，应该使用<code>Object.freeze</code>方法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 常规模式时，下面一行不起作用；</span>
<span class="token comment">// 严格模式时，该行会报错</span>
foo<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面代码中，常量<code>foo</code>指向一个冻结的对象，所以添加新属性不起作用，严格模式时还会报错。</p> <p>除了将对象本身冻结，对象的属性也应该冻结。下面是一个将对象彻底冻结的函数。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">constantize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">constantize</span><span class="token punctuation">(</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="es6-声明变量的六种方法"><a href="#es6-声明变量的六种方法" class="header-anchor">#</a> ES6 声明变量的六种方法</h3> <p>ES5 只有两种声明变量的方法：<code>var</code>命令和<code>function</code>命令。ES6 除了添加<code>let</code>和<code>const</code>命令，后面章节还会提到，另外两种声明变量的方法：<code>import</code>命令和<code>class</code>命令。所以，ES6 一共有 6 种声明变量的方法。</p> <h2 id="顶层对象的属性"><a href="#顶层对象的属性" class="header-anchor">#</a> 顶层对象的属性</h2> <p>顶层对象，在浏览器环境指的是<code>window</code>对象，在 Node 指的是<code>global</code>对象。ES5 之中，顶层对象的属性与全局变量是等价的。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
a <span class="token comment">// 1</span>

a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>a <span class="token comment">// 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面代码中，顶层对象的属性赋值与全局变量的赋值，是同一件事。</p> <p>顶层对象的属性与全局变量挂钩，被认为是 JavaScript 语言最大的设计败笔之一。这样的设计带来了几个很大的问题，首先是没法在编译时就报出变量未声明的错误，只有运行时才能知道（因为全局变量可能是顶层对象的属性创造的，而属性的创造是动态的）；其次，程序员很容易不知不觉地就创建了全局变量（比如打字出错）；最后，顶层对象的属性是到处可以读写的，这非常不利于模块化编程。另一方面，<code>window</code>对象有实体含义，指的是浏览器的窗口对象，顶层对象是一个有实体含义的对象，也是不合适的。</p> <p>ES6 为了改变这一点，一方面规定，为了保持兼容性，<code>var</code>命令和<code>function</code>命令声明的全局变量，依旧是顶层对象的属性；另一方面规定，<code>let</code>命令、<code>const</code>命令、<code>class</code>命令声明的全局变量，不属于顶层对象的属性。也就是说，从 ES6 开始，全局变量将逐步与顶层对象的属性脱钩。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 如果在 Node 的 REPL 环境，可以写成 global.a</span>
<span class="token comment">// 或者采用通用方法，写成 this.a</span>
window<span class="token punctuation">.</span>a <span class="token comment">// 1</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>b <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面代码中，全局变量<code>a</code>由<code>var</code>命令声明，所以它是顶层对象的属性；全局变量<code>b</code>由<code>let</code>命令声明，所以它不是顶层对象的属性，返回<code>undefined</code>。</p> <h2 id="global-对象"><a href="#global-对象" class="header-anchor">#</a> global 对象</h2> <p>ES5 的顶层对象，本身也是一个问题，因为它在各种实现里面是不统一的。</p> <ul><li>浏览器里面，顶层对象是<code>window</code>，但 Node 和 Web Worker 没有<code>window</code>。</li> <li>浏览器和 Web Worker 里面，<code>self</code>也指向顶层对象，但是 Node 没有<code>self</code>。</li> <li>Node 里面，顶层对象是<code>global</code>，但其他环境都不支持。</li></ul> <p>同一段代码为了能够在各种环境，都能取到顶层对象，现在一般是使用<code>this</code>变量，但是有局限性。</p> <ul><li>全局环境中，<code>this</code>会返回顶层对象。但是，Node 模块和 ES6 模块中，<code>this</code>返回的是当前模块。</li> <li>函数里面的<code>this</code>，如果函数不是作为对象的方法运行，而是单纯作为函数运行，<code>this</code>会指向顶层对象。但是，严格模式下，这时<code>this</code>会返回<code>undefined</code>。</li> <li>不管是严格模式，还是普通模式，<code>new Function('return this')()</code>，总是会返回全局对象。但是，如果浏览器用了 CSP（Content Security Policy，内容安全策略），那么<code>eval</code>、<code>new Function</code>这些方法都可能无法使用。</li></ul> <p>综上所述，很难找到一种方法，可以在所有情况下，都取到顶层对象。下面是两种勉强可以使用的方法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 方法一</span>
<span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span>
   <span class="token operator">?</span> window
   <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> process <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span>
      <span class="token keyword">typeof</span> require <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span>
      <span class="token keyword">typeof</span> global <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
     <span class="token operator">?</span> global
     <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 方法二</span>
<span class="token keyword">var</span> <span class="token function-variable function">getGlobal</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> self <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> self<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> window<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> global <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> global<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'unable to locate global object'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>现在有一个<a href="https://github.com/tc39/proposal-global" target="_blank" rel="noopener noreferrer">提案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，在语言标准的层面，引入<code>global</code>作为顶层对象。也就是说，在所有环境下，<code>global</code>都是存在的，都可以从它拿到顶层对象。</p> <p>垫片库<a href="https://github.com/ljharb/System.global" target="_blank" rel="noopener noreferrer"><code>system.global</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>模拟了这个提案，可以在所有环境拿到<code>global</code>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// CommonJS 的写法</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'system.global/shim'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ES6 模块的写法</span>
<span class="token keyword">import</span> shim <span class="token keyword">from</span> <span class="token string">'system.global/shim'</span><span class="token punctuation">;</span> <span class="token function">shim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面代码可以保证各种环境里面，<code>global</code>对象都是存在的。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// CommonJS 的写法</span>
<span class="token keyword">var</span> global <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'system.global'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ES6 模块的写法</span>
<span class="token keyword">import</span> getGlobal <span class="token keyword">from</span> <span class="token string">'system.global'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> global <span class="token operator">=</span> <span class="token function">getGlobal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面代码将顶层对象放入变量<code>global</code>。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020/5/4 上午12:46:22</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/lihao-book/ES6-阮一峰/[es6]1.ECMAScript.6.简介.html" class="prev">
        ECMAScript 6 简介
      </a></span> <span class="next"><a href="/lihao-book/ES6-阮一峰/[es6]3.变量的解构赋值.html">
        变量的解构赋值
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/lihao-book/assets/js/app.658e288a.js" defer></script><script src="/lihao-book/assets/js/2.fa8e0bba.js" defer></script><script src="/lihao-book/assets/js/498.b2aacf71.js" defer></script><script src="/lihao-book/assets/js/12.3e28fdbb.js" defer></script>
  </body>
</html>
