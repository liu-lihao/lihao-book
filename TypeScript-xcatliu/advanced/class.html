<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>类 | 笔记</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/lihao-book/images/favicon.ico">
    <script src="/lihao-book/js/theme.js"></script>
    <link rel="manifest" href="/lihao-book/manifest.json">
    <link rel="apple-touch-icon" href="/lihao-book/images/logo.png">
    <link rel="mask-icon" href="/lihao-book/images/egg.svg" color="#d49400">
    <meta name="description" content="在这里记下我的笔记，方便查阅">
    <meta name="theme-color" content="#d49400">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-TileImage" content="/lihao-book/images/logo.png">
    
    <link rel="preload" href="/lihao-book/assets/css/0.styles.4cb38b6f.css" as="style"><link rel="preload" href="/lihao-book/assets/js/app.ca35bf9c.js" as="script"><link rel="preload" href="/lihao-book/assets/js/2.cc29f35f.js" as="script"><link rel="preload" href="/lihao-book/assets/js/92.3462c66a.js" as="script"><link rel="preload" href="/lihao-book/assets/js/13.b9e03290.js" as="script"><link rel="prefetch" href="/lihao-book/assets/js/10.ddc3aee7.js"><link rel="prefetch" href="/lihao-book/assets/js/100.65ecbf90.js"><link rel="prefetch" href="/lihao-book/assets/js/101.a08203c8.js"><link rel="prefetch" href="/lihao-book/assets/js/102.d0442103.js"><link rel="prefetch" href="/lihao-book/assets/js/103.81baf330.js"><link rel="prefetch" href="/lihao-book/assets/js/104.96cd59ad.js"><link rel="prefetch" href="/lihao-book/assets/js/105.830ac272.js"><link rel="prefetch" href="/lihao-book/assets/js/106.9f9b9344.js"><link rel="prefetch" href="/lihao-book/assets/js/107.ff432364.js"><link rel="prefetch" href="/lihao-book/assets/js/108.8ea46a48.js"><link rel="prefetch" href="/lihao-book/assets/js/109.d65853fa.js"><link rel="prefetch" href="/lihao-book/assets/js/11.68340129.js"><link rel="prefetch" href="/lihao-book/assets/js/110.857ec4b0.js"><link rel="prefetch" href="/lihao-book/assets/js/111.9b284e98.js"><link rel="prefetch" href="/lihao-book/assets/js/112.0af0aebb.js"><link rel="prefetch" href="/lihao-book/assets/js/113.eb22d1a4.js"><link rel="prefetch" href="/lihao-book/assets/js/114.1a98bda4.js"><link rel="prefetch" href="/lihao-book/assets/js/115.924c85e2.js"><link rel="prefetch" href="/lihao-book/assets/js/116.d608aecc.js"><link rel="prefetch" href="/lihao-book/assets/js/117.c2018e31.js"><link rel="prefetch" href="/lihao-book/assets/js/118.c750f1a7.js"><link rel="prefetch" href="/lihao-book/assets/js/119.293886a9.js"><link rel="prefetch" href="/lihao-book/assets/js/12.c3ae57be.js"><link rel="prefetch" href="/lihao-book/assets/js/120.7599472e.js"><link rel="prefetch" href="/lihao-book/assets/js/121.04f2c3fd.js"><link rel="prefetch" href="/lihao-book/assets/js/122.4f5c8c8d.js"><link rel="prefetch" href="/lihao-book/assets/js/123.39f68abb.js"><link rel="prefetch" href="/lihao-book/assets/js/124.4d41abab.js"><link rel="prefetch" href="/lihao-book/assets/js/125.cf08c9eb.js"><link rel="prefetch" href="/lihao-book/assets/js/126.b6f23802.js"><link rel="prefetch" href="/lihao-book/assets/js/127.5bd769ec.js"><link rel="prefetch" href="/lihao-book/assets/js/128.a4785d71.js"><link rel="prefetch" href="/lihao-book/assets/js/129.6d7f1dfd.js"><link rel="prefetch" href="/lihao-book/assets/js/130.bfde1771.js"><link rel="prefetch" href="/lihao-book/assets/js/131.46d8eff5.js"><link rel="prefetch" href="/lihao-book/assets/js/132.d4d8b37e.js"><link rel="prefetch" href="/lihao-book/assets/js/133.83ec44e5.js"><link rel="prefetch" href="/lihao-book/assets/js/134.d7b6fd46.js"><link rel="prefetch" href="/lihao-book/assets/js/135.438c8fa5.js"><link rel="prefetch" href="/lihao-book/assets/js/136.b1fd3932.js"><link rel="prefetch" href="/lihao-book/assets/js/137.093b7cc9.js"><link rel="prefetch" href="/lihao-book/assets/js/138.24b18e8d.js"><link rel="prefetch" href="/lihao-book/assets/js/139.8cd48176.js"><link rel="prefetch" href="/lihao-book/assets/js/14.373816e1.js"><link rel="prefetch" href="/lihao-book/assets/js/140.e0c48610.js"><link rel="prefetch" href="/lihao-book/assets/js/141.4de7e224.js"><link rel="prefetch" href="/lihao-book/assets/js/142.bc822060.js"><link rel="prefetch" href="/lihao-book/assets/js/143.4acafd12.js"><link rel="prefetch" href="/lihao-book/assets/js/144.acb66cb0.js"><link rel="prefetch" href="/lihao-book/assets/js/145.37b585ca.js"><link rel="prefetch" href="/lihao-book/assets/js/146.bc8256aa.js"><link rel="prefetch" href="/lihao-book/assets/js/147.db0aeada.js"><link rel="prefetch" href="/lihao-book/assets/js/148.a6019d66.js"><link rel="prefetch" href="/lihao-book/assets/js/149.7b0079bf.js"><link rel="prefetch" href="/lihao-book/assets/js/15.11376457.js"><link rel="prefetch" href="/lihao-book/assets/js/150.87ae299d.js"><link rel="prefetch" href="/lihao-book/assets/js/16.2aa5f128.js"><link rel="prefetch" href="/lihao-book/assets/js/17.9ff90f4e.js"><link rel="prefetch" href="/lihao-book/assets/js/18.22266ea8.js"><link rel="prefetch" href="/lihao-book/assets/js/19.9d5e202c.js"><link rel="prefetch" href="/lihao-book/assets/js/20.2bf4d527.js"><link rel="prefetch" href="/lihao-book/assets/js/21.c27c9b35.js"><link rel="prefetch" href="/lihao-book/assets/js/22.bb3a1bea.js"><link rel="prefetch" href="/lihao-book/assets/js/23.547f0af3.js"><link rel="prefetch" href="/lihao-book/assets/js/24.9eaf0e48.js"><link rel="prefetch" href="/lihao-book/assets/js/25.22b39374.js"><link rel="prefetch" href="/lihao-book/assets/js/26.51290e38.js"><link rel="prefetch" href="/lihao-book/assets/js/27.83fee76f.js"><link rel="prefetch" href="/lihao-book/assets/js/28.6f7739d1.js"><link rel="prefetch" href="/lihao-book/assets/js/29.e595daeb.js"><link rel="prefetch" href="/lihao-book/assets/js/3.3bda7e9e.js"><link rel="prefetch" href="/lihao-book/assets/js/30.15005384.js"><link rel="prefetch" href="/lihao-book/assets/js/31.68311903.js"><link rel="prefetch" href="/lihao-book/assets/js/32.c413b9b1.js"><link rel="prefetch" href="/lihao-book/assets/js/33.ebaa5e3b.js"><link rel="prefetch" href="/lihao-book/assets/js/34.93062990.js"><link rel="prefetch" href="/lihao-book/assets/js/35.84866c98.js"><link rel="prefetch" href="/lihao-book/assets/js/36.0deaf777.js"><link rel="prefetch" href="/lihao-book/assets/js/37.a31cbca4.js"><link rel="prefetch" href="/lihao-book/assets/js/38.37fdf4d2.js"><link rel="prefetch" href="/lihao-book/assets/js/39.2bdd9640.js"><link rel="prefetch" href="/lihao-book/assets/js/4.189d4dcc.js"><link rel="prefetch" href="/lihao-book/assets/js/40.7fa92507.js"><link rel="prefetch" href="/lihao-book/assets/js/41.4b4f65c2.js"><link rel="prefetch" href="/lihao-book/assets/js/42.23a78624.js"><link rel="prefetch" href="/lihao-book/assets/js/43.c748bb36.js"><link rel="prefetch" href="/lihao-book/assets/js/44.7892e348.js"><link rel="prefetch" href="/lihao-book/assets/js/45.457b4492.js"><link rel="prefetch" href="/lihao-book/assets/js/46.791bcf9b.js"><link rel="prefetch" href="/lihao-book/assets/js/47.511b7135.js"><link rel="prefetch" href="/lihao-book/assets/js/48.57d40c7f.js"><link rel="prefetch" href="/lihao-book/assets/js/49.d3d14c1d.js"><link rel="prefetch" href="/lihao-book/assets/js/5.ad22fab5.js"><link rel="prefetch" href="/lihao-book/assets/js/50.7aaca2d4.js"><link rel="prefetch" href="/lihao-book/assets/js/51.2900db23.js"><link rel="prefetch" href="/lihao-book/assets/js/52.143ccb79.js"><link rel="prefetch" href="/lihao-book/assets/js/53.f906840b.js"><link rel="prefetch" href="/lihao-book/assets/js/54.71f59ac8.js"><link rel="prefetch" href="/lihao-book/assets/js/55.1ca88fd5.js"><link rel="prefetch" href="/lihao-book/assets/js/56.4f076459.js"><link rel="prefetch" href="/lihao-book/assets/js/57.7b14b934.js"><link rel="prefetch" href="/lihao-book/assets/js/58.5e884722.js"><link rel="prefetch" href="/lihao-book/assets/js/59.aa65db5e.js"><link rel="prefetch" href="/lihao-book/assets/js/6.a47c4d7e.js"><link rel="prefetch" href="/lihao-book/assets/js/60.70f57642.js"><link rel="prefetch" href="/lihao-book/assets/js/61.8ea111da.js"><link rel="prefetch" href="/lihao-book/assets/js/62.b770f8b4.js"><link rel="prefetch" href="/lihao-book/assets/js/63.04946d0d.js"><link rel="prefetch" href="/lihao-book/assets/js/64.4a2bfce7.js"><link rel="prefetch" href="/lihao-book/assets/js/65.5d275240.js"><link rel="prefetch" href="/lihao-book/assets/js/66.09e9f6f0.js"><link rel="prefetch" href="/lihao-book/assets/js/67.d43b1be4.js"><link rel="prefetch" href="/lihao-book/assets/js/68.90caf82a.js"><link rel="prefetch" href="/lihao-book/assets/js/69.b98b72b5.js"><link rel="prefetch" href="/lihao-book/assets/js/7.ab0fbb82.js"><link rel="prefetch" href="/lihao-book/assets/js/70.f70a67d5.js"><link rel="prefetch" href="/lihao-book/assets/js/71.5c0ee5f5.js"><link rel="prefetch" href="/lihao-book/assets/js/72.bb790a69.js"><link rel="prefetch" href="/lihao-book/assets/js/73.972f8e47.js"><link rel="prefetch" href="/lihao-book/assets/js/74.c74ae0f3.js"><link rel="prefetch" href="/lihao-book/assets/js/75.63fe7d68.js"><link rel="prefetch" href="/lihao-book/assets/js/76.55b6ab80.js"><link rel="prefetch" href="/lihao-book/assets/js/77.c447bf93.js"><link rel="prefetch" href="/lihao-book/assets/js/78.8f3023d5.js"><link rel="prefetch" href="/lihao-book/assets/js/79.ee771c9d.js"><link rel="prefetch" href="/lihao-book/assets/js/8.738792b5.js"><link rel="prefetch" href="/lihao-book/assets/js/80.5a37dbeb.js"><link rel="prefetch" href="/lihao-book/assets/js/81.7dd62dde.js"><link rel="prefetch" href="/lihao-book/assets/js/82.d0cfbcc9.js"><link rel="prefetch" href="/lihao-book/assets/js/83.355f6b27.js"><link rel="prefetch" href="/lihao-book/assets/js/84.dcdca1de.js"><link rel="prefetch" href="/lihao-book/assets/js/85.9abd2690.js"><link rel="prefetch" href="/lihao-book/assets/js/86.325b70c8.js"><link rel="prefetch" href="/lihao-book/assets/js/87.dc960afb.js"><link rel="prefetch" href="/lihao-book/assets/js/88.45318fa1.js"><link rel="prefetch" href="/lihao-book/assets/js/89.9731b992.js"><link rel="prefetch" href="/lihao-book/assets/js/9.29fb7e74.js"><link rel="prefetch" href="/lihao-book/assets/js/90.c95f41fd.js"><link rel="prefetch" href="/lihao-book/assets/js/91.27f1cfd7.js"><link rel="prefetch" href="/lihao-book/assets/js/93.294ef7fe.js"><link rel="prefetch" href="/lihao-book/assets/js/94.0aecc36a.js"><link rel="prefetch" href="/lihao-book/assets/js/95.f2e64b07.js"><link rel="prefetch" href="/lihao-book/assets/js/96.ececefdd.js"><link rel="prefetch" href="/lihao-book/assets/js/97.1158cc1e.js"><link rel="prefetch" href="/lihao-book/assets/js/98.3b170dee.js"><link rel="prefetch" href="/lihao-book/assets/js/99.a575163b.js">
    <link rel="stylesheet" href="/lihao-book/assets/css/0.styles.4cb38b6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/lihao-book/" class="home-link router-link-active"><img src="/lihao-book/images/logo.png" alt="笔记" class="logo"> <span class="site-name can-hide">笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/lihao-book/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记集合" class="dropdown-title"><span class="title">笔记集合</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记集合" class="mobile-dropdown-title"><span class="title">笔记集合</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lihao-book/JavaScript/1.JS随笔.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Vue/Vue 修饰符.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/React/1、webpack 环境搭建.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Nodejs/tool.html" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Koa/1. 初识 Koa.html" class="nav-link">
  Koa
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Webpack/1.Webpack 入门.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/CSS/BFC.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/前端/1.HTTP缓存.html" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/数据结构和算法/二叉搜索树.html" class="nav-link">
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/其他/CI_CD.html" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏好书" class="dropdown-title"><span class="title">收藏好书</span> <span class="arrow down"></span></button> <button type="button" aria-label="收藏好书" class="mobile-dropdown-title"><span class="title">收藏好书</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lihao-book/ES6-阮一峰/[es6]1.ECMAScript.6.简介.html" class="nav-link">
  ES6 阮一峰
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/TypeScript-xcatliu/" class="nav-link router-link-active">
  TypeScript xcatliu
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="站点" class="dropdown-title"><span class="title">站点</span> <span class="arrow down"></span></button> <button type="button" aria-label="站点" class="mobile-dropdown-title"><span class="title">站点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://liu-lihao.gitee.io/lihao-book/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/liu-lihao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/lihao-book/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记集合" class="dropdown-title"><span class="title">笔记集合</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记集合" class="mobile-dropdown-title"><span class="title">笔记集合</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lihao-book/JavaScript/1.JS随笔.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Vue/Vue 修饰符.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/React/1、webpack 环境搭建.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Nodejs/tool.html" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Koa/1. 初识 Koa.html" class="nav-link">
  Koa
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/Webpack/1.Webpack 入门.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/CSS/BFC.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/前端/1.HTTP缓存.html" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/数据结构和算法/二叉搜索树.html" class="nav-link">
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/其他/CI_CD.html" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏好书" class="dropdown-title"><span class="title">收藏好书</span> <span class="arrow down"></span></button> <button type="button" aria-label="收藏好书" class="mobile-dropdown-title"><span class="title">收藏好书</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lihao-book/ES6-阮一峰/[es6]1.ECMAScript.6.简介.html" class="nav-link">
  ES6 阮一峰
</a></li><li class="dropdown-item"><!----> <a href="/lihao-book/TypeScript-xcatliu/" class="nav-link router-link-active">
  TypeScript xcatliu
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="站点" class="dropdown-title"><span class="title">站点</span> <span class="arrow down"></span></button> <button type="button" aria-label="站点" class="mobile-dropdown-title"><span class="title">站点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://liu-lihao.gitee.io/lihao-book/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/liu-lihao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/lihao-book/TypeScript-xcatliu/" aria-current="page" class="sidebar-link">TypeScript 入门教程</a></li><li><a href="/lihao-book/TypeScript-xcatliu/summary.html" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>介绍</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>进阶</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/lihao-book/TypeScript-xcatliu/advanced/" aria-current="page" class="sidebar-link">进阶</a></li><li><a href="/lihao-book/TypeScript-xcatliu/advanced/type-aliases.html" class="sidebar-link">类型别名</a></li><li><a href="/lihao-book/TypeScript-xcatliu/advanced/string-literal-types.html" class="sidebar-link">字符串字面量类型</a></li><li><a href="/lihao-book/TypeScript-xcatliu/advanced/tuple.html" class="sidebar-link">元组</a></li><li><a href="/lihao-book/TypeScript-xcatliu/advanced/enum.html" class="sidebar-link">枚举</a></li><li><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html" aria-current="page" class="active sidebar-link">类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#类的概念" class="sidebar-link">类的概念</a></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#es6-中类的用法" class="sidebar-link">ES6 中类的用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#属性和方法" class="sidebar-link">属性和方法</a></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#类的继承" class="sidebar-link">类的继承</a></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#存取器" class="sidebar-link">存取器</a></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#静态方法" class="sidebar-link">静态方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#es7-中类的用法" class="sidebar-link">ES7 中类的用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#实例属性" class="sidebar-link">实例属性</a></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#静态属性" class="sidebar-link">静态属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#typescript-中类的用法" class="sidebar-link">TypeScript 中类的用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#public-private-和-protected" class="sidebar-link">public private 和 protected</a></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#参数属性" class="sidebar-link">参数属性</a></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#readonly" class="sidebar-link">readonly</a></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#抽象类" class="sidebar-link">抽象类</a></li></ul></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#类的类型" class="sidebar-link">类的类型</a></li><li class="sidebar-sub-header"><a href="/lihao-book/TypeScript-xcatliu/advanced/class.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/lihao-book/TypeScript-xcatliu/advanced/class-and-interfaces.html" class="sidebar-link">类与接口</a></li><li><a href="/lihao-book/TypeScript-xcatliu/advanced/generics.html" class="sidebar-link">泛型</a></li><li><a href="/lihao-book/TypeScript-xcatliu/advanced/declaration-merging.html" class="sidebar-link">声明合并</a></li><li><a href="/lihao-book/TypeScript-xcatliu/advanced/further-reading.html" class="sidebar-link">扩展阅读</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>感谢</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="类"><a href="#类" class="header-anchor">#</a> 类</h1> <p>传统方法中，JavaScript 通过构造函数实现类的概念，通过原型链实现继承。而在 ES6 中，我们终于迎来了 <code>class</code>。</p> <p>TypeScript 除了实现了所有 ES6 中的类的功能以外，还添加了一些新的用法。</p> <p>这一节主要介绍类的用法，下一节再介绍如何定义类的类型。</p> <h2 id="类的概念"><a href="#类的概念" class="header-anchor">#</a> 类的概念</h2> <p>虽然 JavaScript 中有类的概念，但是可能大多数 JavaScript 程序员并不是非常熟悉类，这里对类相关的概念做一个简单的介绍。</p> <ul><li>类(Class)：定义了一件事物的抽象特点，包含它的属性和方法</li> <li>对象（Object）：类的实例，通过 <code>new</code> 生成</li> <li>面向对象（OOP）的三大特性：封装、继承、多态</li> <li>封装（Encapsulation）：将对数据的操作细节隐藏起来，只暴露对外的接口。外界调用端不需要（也不可能）知道细节，就能通过对外提供的接口来访问该对象，同时也保证了外界无法任意更改对象内部的数据</li> <li>继承（Inheritance）：子类继承父类，子类除了拥有父类的所有特性外，还有一些更具体的特性</li> <li>多态（Polymorphism）：由继承而产生了相关的不同的类，对同一个方法可以有不同的响应。比如 <code>Cat</code> 和 <code>Dog</code> 都继承自 <code>Animal</code>，但是分别实现了自己的 <code>eat</code> 方法。此时针对某一个实例，我们无需了解它是 <code>Cat</code> 还是 <code>Dog</code>，就可以直接调用 <code>eat</code> 方法，程序会自动判断出来应该如何执行 <code>eat</code></li> <li>存取器（getter &amp; setter）：用以改变属性的读取和赋值行为</li> <li>修饰符（Modifiers）：修饰符是一些关键字，用于限定成员或类型的性质。比如 <code>public</code> 表示公有属性或方法</li> <li>抽象类（Abstract Class）：抽象类是供其他类继承的基类，抽象类不允许被实例化。抽象类中的抽象方法必须在子类中被实现</li> <li>接口（Interfaces）：不同类之间公有的属性或方法，可以抽象成一个接口。接口可以被类实现（implements）。一个类只能继承自另一个类，但是可以实现多个接口</li></ul> <h2 id="es6-中类的用法"><a href="#es6-中类的用法" class="header-anchor">#</a> ES6 中类的用法</h2> <p>下面我们先回顾一下 ES6 中类的用法，更详细的介绍可以参考 <a href="http://es6.ruanyifeng.com/#docs/class" target="_blank" rel="noopener noreferrer">ECMAScript 6 入门 - Class<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="属性和方法"><a href="#属性和方法" class="header-anchor">#</a> 属性和方法</h3> <p>使用 <code>class</code> 定义类，使用 <code>constructor</code> 定义构造函数。</p> <p>通过 <code>new</code> 生成新实例的时候，会自动调用构造函数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// My name is Jack</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="类的继承"><a href="#类的继承" class="header-anchor">#</a> 类的继承</h3> <p>使用 <code>extends</code> 关键字实现继承，子类中使用 <code>super</code> 关键字来调用父类的构造函数和方法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的 constructor(name)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'Meow, '</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的 sayHi()</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tom</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Meow, My name is Tom</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="存取器"><a href="#存取器" class="header-anchor">#</a> 存取器</h3> <p>使用 getter 和 setter 可以改变属性的赋值和读取行为：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'Jack'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setter: '</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Kitty'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// setter: Kitty</span>
a<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tom'</span><span class="token punctuation">;</span> <span class="token comment">// setter: Tom</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Jack</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="静态方法"><a href="#静态方法" class="header-anchor">#</a> 静态方法</h3> <p>使用 <code>static</code> 修饰符修饰的方法称为静态方法，它们不需要实例化，而是直接通过类来调用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">isAnimal</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Animal<span class="token punctuation">.</span><span class="token function">isAnimal</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
a<span class="token punctuation">.</span><span class="token function">isAnimal</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: a.isAnimal is not a function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="es7-中类的用法"><a href="#es7-中类的用法" class="header-anchor">#</a> ES7 中类的用法</h2> <p>ES7 中有一些关于类的提案，TypeScript 也实现了它们，这里做一个简单的介绍。</p> <h3 id="实例属性"><a href="#实例属性" class="header-anchor">#</a> 实例属性</h3> <p>ES6 中实例的属性只能通过构造函数中的 <code>this.xxx</code> 来定义，ES7 提案中可以直接在类里面定义：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> <span class="token string">'Jack'</span><span class="token punctuation">;</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Jack</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="静态属性"><a href="#静态属性" class="header-anchor">#</a> 静态属性</h3> <p>ES7 提案中，可以使用 <code>static</code> 定义一个静态属性：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> num <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Animal<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="typescript-中类的用法"><a href="#typescript-中类的用法" class="header-anchor">#</a> TypeScript 中类的用法</h2> <h3 id="public-private-和-protected"><a href="#public-private-和-protected" class="header-anchor">#</a> public private 和 protected</h3> <p>TypeScript 可以使用三种访问修饰符（Access Modifiers），分别是 <code>public</code>、<code>private</code> 和 <code>protected</code>。</p> <ul><li><code>public</code> 修饰的属性或方法是公有的，可以在任何地方被访问到，默认所有的属性和方法都是 <code>public</code> 的</li> <li><code>private</code> 修饰的属性或方法是私有的，不能在声明它的类的外部访问</li> <li><code>protected</code> 修饰的属性或方法是受保护的，它和 <code>private</code> 类似，区别是它在子类中也是允许被访问的</li></ul> <p>下面举一些例子：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Jack</span>
a<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tom'</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tom</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>上面的例子中，<code>name</code> 被设置为了 <code>public</code>，所以直接访问实例的 <code>name</code> 属性是允许的。</p> <p>很多时候，我们希望有的属性是无法直接存取的，这时候就可以用 <code>private</code> 了：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Jack</span>
a<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tom'</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(9,13): error TS2341: Property 'name' is private and only accessible within class 'Animal'.</span>
<span class="token comment">// index.ts(10,1): error TS2341: Property 'name' is private and only accessible within class 'Animal'.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>需要注意的是，TypeScript 编译之后的代码中，并没有限制 <code>private</code> 属性在外部的可访问性。</p> <p>上面的例子编译后的代码是：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> Animal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Animal<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tom'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>使用 <code>private</code> 修饰的属性或方法，在子类中也是不允许访问的：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// index.ts(11,17): error TS2341: Property 'name' is private and only accessible within class 'Animal'.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>而如果是用 <code>protected</code> 修饰，则允许在子类中访问：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>当构造函数修饰为 <code>private</code> 时，该类不允许被继承或者实例化：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">constructor</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(7,19): TS2675: Cannot extend a class 'Animal'. Class constructor is marked as private.</span>
<span class="token comment">// index.ts(13,9): TS2673: Constructor of class 'Animal' is private and only accessible within the class declaration.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>当构造函数修饰为 <code>protected</code> 时，该类只允许被继承：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">constructor</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(13,9): TS2674: Constructor of class 'Animal' is protected and only accessible within the class declaration.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="参数属性"><a href="#参数属性" class="header-anchor">#</a> 参数属性</h3> <p>修饰符和<code>readonly</code>还可以使用在构造函数参数中，等同于类中定义该属性同时给该属性赋值，使代码更简洁。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token comment">// public name: string;</span>
    <span class="token keyword">public</span> <span class="token keyword">constructor</span> <span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// this.name = name;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="readonly"><a href="#readonly" class="header-anchor">#</a> readonly</h3> <p>只读属性关键字，只允许出现在属性声明或索引签名或构造函数中。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Jack</span>
a<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tom'</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(10,3): TS2540: Cannot assign to 'name' because it is a read-only property.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>注意如果 <code>readonly</code> 和其他访问修饰符同时存在的话，需要写在其后面。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token comment">// public readonly name;</span>
    <span class="token keyword">public</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> <span class="token keyword">readonly</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// this.name = name;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="抽象类"><a href="#抽象类" class="header-anchor">#</a> 抽象类</h3> <p><code>abstract</code> 用于定义抽象类和其中的抽象方法。</p> <p>什么是抽象类？</p> <p>首先，抽象类是不允许被实例化的：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(9,11): error TS2511: Cannot create an instance of the abstract class 'Animal'.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>上面的例子中，我们定义了一个抽象类 <code>Animal</code>，并且定义了一个抽象方法 <code>sayHi</code>。在实例化抽象类的时候报错了。</p> <p>其次，抽象类中的抽象方法必须被子类实现：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is eating.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(9,7): error TS2515: Non-abstract class 'Cat' does not implement inherited abstract member 'sayHi' from class 'Animal'.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>上面的例子中，我们定义了一个类 <code>Cat</code> 继承了抽象类 <code>Animal</code>，但是没有实现抽象方法 <code>sayHi</code>，所以编译报错了。</p> <p>下面是一个正确使用抽象类的例子：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Meow, My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>上面的例子中，我们实现了抽象方法 <code>sayHi</code>，编译通过了。</p> <p>需要注意的是，即使是抽象方法，TypeScript 的编译结果中，仍然会存在这个类，上面的代码的编译结果是：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> __extends <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__extends<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> p <span class="token keyword">in</span> b<span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span> d<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">__</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>constructor <span class="token operator">=</span> d<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    d<span class="token punctuation">.</span>prototype <span class="token operator">=</span> b <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">?</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token class-name">__</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> b<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Animal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Animal<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Cat <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_super</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">__extends</span><span class="token punctuation">(</span>Cat<span class="token punctuation">,</span> _super<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">_super</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Meow, My name is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Cat<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="类的类型"><a href="#类的类型" class="header-anchor">#</a> 类的类型</h2> <p>给类加上 TypeScript 的类型很简单，与接口类似：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a<span class="token operator">:</span> Animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// My name is Jack</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="http://www.typescriptlang.org/docs/handbook/classes.html" target="_blank" rel="noopener noreferrer">Classes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（<a href="https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Classes.html" target="_blank" rel="noopener noreferrer">中文版<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</li> <li><a href="http://es6.ruanyifeng.com/#docs/class" target="_blank" rel="noopener noreferrer">ECMAScript 6 入门 - Class<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <hr> <ul><li><a href="/lihao-book/TypeScript-xcatliu/advanced/enum.html">上一章：枚举</a></li> <li><a href="/lihao-book/TypeScript-xcatliu/advanced/class-and-interfaces.html">下一章：类与接口</a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/7/26 下午4:57:05</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/lihao-book/TypeScript-xcatliu/advanced/enum.html" class="prev">
        枚举
      </a></span> <span class="next"><a href="/lihao-book/TypeScript-xcatliu/advanced/class-and-interfaces.html">
        类与接口
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/lihao-book/assets/js/app.ca35bf9c.js" defer></script><script src="/lihao-book/assets/js/2.cc29f35f.js" defer></script><script src="/lihao-book/assets/js/92.3462c66a.js" defer></script><script src="/lihao-book/assets/js/13.b9e03290.js" defer></script>
  </body>
</html>
